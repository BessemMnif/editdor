{"version":3,"sources":["assets/editdor.png","assets/WoT.png","context/ediTDorContext.js","components/TDViewer/OperationsSelections.js","components/TDViewer/AddForm.jsx","util.js","components/TDViewer/Form.jsx","components/InfoIcon/InfoIcon.jsx","components/InfoIcon/InfoTooltips.jsx","components/TDViewer/SearchBar.jsx","components/TDViewer/AddActionForm.js","components/TDViewer/Action.jsx","components/TDViewer/AddEventForm.js","components/TDViewer/Event.jsx","components/TDViewer/AddPropertyForm.js","components/TDViewer/Property.jsx","components/TDViewer/AddProperty.js","components/TDViewer/AddAction.js","components/TDViewer/AddEvent.jsx","components/TDViewer/InteractionSection.jsx","components/TDViewer/RenderedObject.jsx","components/TDViewer/TDViewer.jsx","components/Editor/Editor.jsx","components/App/AppHeader/Button.js","components/App/AppHeader/CreateNewTDContent.js","components/App/AppHeader/CreateNewTD.js","components/App/AppHeader/AppHeader.jsx","components/App/AppFooter.jsx","context/editorReducers.js","context/GlobalState.js","components/App/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","React","createContext","offlineTD","theme","isModified","isThingModel","undefined","name","fileHandle","updateOfflineTD","td","updateIsModified","updateIsThingModel","setFileHandle","handle","removeForm","form","addForm","addActionForm","params","addEventForm","removeOneOfAKindReducer","kind","oneOfAKind","operationsSelections","type","Swal","require","addGlobalForm","mixin","title","confirmButtonText","showCancelButton","progressSteps","queue","text","html","preConfirm","operations","map","x","document","getElementById","checked","value","filter","y","op","input","then","prop","dismiss","propValue","href","buildAttributeListObject","firstAttribute","object","dontRender","attributeListObject","Object","entries","key","includes","separateForms","forms","newForms","i","length","Array","isArray","temp","push","hasForms","itemToCheck","checkIfFormIsInItem","element","checkIfFormIsInElement","deepCompare","Form","props","formChooser","ObserveForm","propName","UnobserveForm","ReadForm","ReadMultipleForm","formIndex","ReadAllForm","WriteForm","WriteMultipleForm","WriteAllForm","InvokeForm","interactionType","UndefinedForm","context","useContext","ediTDorContext","className","onClick","e","size","color","InfoIconWrapper","children","window","open","tooltip","InfoIcon","data-html","data-type","data-tip","data-background-color","TooltipContent","this","getFormsTooltipContent","tooltipMapper","SearchBar","autoComplete","onKeyUp","placeholder","aria-label","ariaLabel","disabled","a","alreadyRenderedKeys","Action","keys","action","constructor","actionName","attributes","JSON","stringify","onClickAddForm","formToAdd","fire","icon","confirmButtonAriaLabel","cancelButtonText","cancelButtonAriaLabel","isConfirmed","description","console","log","Event","event","eventName","addPropertyForm","Property","property","addProperty","inputOptions","number","integer","boolean","string","array","inputPlaceholder","focusConfirm","showDenyButton","denyButtonText","result","resultValue","addAction","addInteractionMapper","SORT_ASC","oldTd","InteractionSection","useState","setFilter","sortOrder","setSortOrder","interaction","toLowerCase","parsedTd","parse","onClickAddInteraction","interactionToAdd","buildChildren","filteredInteractions","filtered","indexOf","forEach","applyFilter","properties","index","actions","events","target","ordered","toSort","sort","b","nameA","nameB","localeCompare","sortedObject","reverse","sortKeysInObject","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","RenderedObject","showChildren","setShowChildren","handleClick","useCallback","val","k","v","indicator","i1","k1","v1","m1","tdJSON","oldtdJSON","error","TDViewer","message","metaData","onClickAddGlobalForm","id","mapping","tdSchema","tmSchema","editorOptions","selectOnLineNumbers","automaticLayout","lineDecorationsWidth","JSONEditorComponent","schemas","proxy","setProxy","editorInstance","useRef","editorWillMount","monaco","languages","json","jsonDefaults","setDiagnosticsOptions","validate","enableSchemaRequest","warn","Proxy","set","_","jsonSchemaObjects","fileMatch","uri","addSchema","removeSchema","splice","fetchSchema","url","URL","fetch","res","schema","onChange","editorText","state","atContext","contextKey","find","options","language","ref","editorDidMount","editor","onDidChangeModelDecorations","model","getModel","getModeId","Button","RequestTdMetadata","formField","label","swal","CreateNewTD","tdMetadata","tdDescription","tdSecurity","backdrop","reverseButtons","newTd","base","thing","securityDefinitions","scheme","AppHeader","showModal","setShowModal","htmlPlaceholders","sethtmlPlaceholders","hasNativeFS","verifyDiscard","confirm","read","file","_readFileHTML5","readFile","msg","alert","openFile","getFileHTML5","getFileHandle","getFile","writeFile","contents","createWriter","writer","write","close","createWritable","writable","setTimeout","saveAsHTML5","filename","aDownload","File","createObjectURL","setAttribute","click","saveFileAs","getNewFileHandle","newFile","saveFile","Promise","resolve","reject","fileInput","onchange","files","Error","showOpenFilePicker","types","accept","handles","chooseFileSystemEntries","opts","showSaveFilePicker","accepts","extensions","mimeTypes","reader","FileReader","addEventListener","srcElement","readAsText","useEffect","location","search","searchParams","get","parsedTD","shortcutHandler","navigator","platform","match","metaKey","ctrlKey","preventDefault","stopPropagation","onbeforeunload","returnValue","removeEventListener","src","wot","alt","logo","permalink","encodeURI","clipboard","writeText","err","inputLabel","inputValue","showCloseButton","select","regex","startIindices","exec","endIndices","placeholders","slice","htmlPlaceholdersTMP","Set","holder","htmlFor","mappingObject","elem","JSONResult","split","join","saveTMasTD","style","display","AppFooter","bytes","megaBytes","propertiesCount","actionsCount","eventsCount","TextEncoder","encode","toFixed","process","rel","UPDATE_OFFLINE_TD","UPDATE_IS_MODFIED","UPDATE_IS_THINGMODEL","SET_FILE_HANDLE","REMOVE_FORM_FROM_TD","ADD_PROPERTYFORM_TO_TD","ADD_ACTIONFORM_TO_TD","ADD_EVENTFORM_TO_TD","REMOVE_ONE_OF_A_KIND_FROM_TD","editdorReducer","updateOfflineTDReducer","updateFileHandleReducer","removeFormReducer","oneOfAKindName","addPropertyFormReducer","addActionFormReducer","addEventFormReducer","GlobalState","useReducer","editdorState","dispatch","Provider","dragElement","direction","md","first","second","onMouseMove","delta","clientX","clientY","Math","min","max","firstWidth","secondWidth","left","offsetLeft","onmousedown","offsetTop","offsetWidth","onmousemove","onmouseup","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","origin","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"mIAAAA,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,mmBCc5BC,MAAMC,cAAc,CACjCC,UAAW,GACXC,MAAO,OACPC,YAAY,EACZC,kBAAcC,EACdC,KAAM,GACNC,WAAW,GACXC,gBAAiB,SAAAC,KACjBC,iBAAkB,SAAAP,KAClBQ,mBAAoB,SAAAP,KACpBQ,cAAe,SAAAC,KACfC,WAAY,SAAAC,KACZC,QAAS,SAAAD,KACTE,cAAe,SAAAC,KACfC,aAAc,SAAAD,KACdE,wBAAyB,SAACC,EAAMC,OCuDnBC,EAxEc,SAACC,GAC1B,OAAQA,GACJ,IAAK,aACD,MAAM,myCAwBV,IAAK,SACD,MAAM,6oBAYV,IAAK,QACD,MAAM,qmDAwBV,QACI,MAAO,KCjEbC,EAAOC,EAAQ,KAmCNC,EAjCO,WAClB,IAAIZ,EAAO,GACX,OAAOU,EAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIC,KAAM,6CACNC,KAAMZ,EAAqB,SAC3Ba,WAAY,WACR,IAAMC,EAAa,CAAC,IAAK,IAAK,IAAK,KAAKC,KAAI,SAAAC,GACxC,OAAOC,SAASC,eAAe,WAAaF,GAAGG,QAAUF,SAASC,eAAe,WAAaF,GAAGI,WAAQtC,KAC1GuC,QAAO,SAAAC,GAAC,YAAUxC,IAANwC,KACf9B,EAAK+B,GAAKT,IAGlB,CACIU,MAAO,OACPlB,MAAO,YACPK,KAAM,sDAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAMC,EAAYF,EAAKN,MAEvB,OADA5B,EAAKqC,KAAQD,EAAU,GAChBpC,O,wBCrBNsC,EAA2B,SAACC,EAAgBC,EAAQC,GAG7D,IAFA,IAAIC,EAAmB,eAAQH,GAE/B,MAA2BI,OAAOC,QAAQJ,GAA1C,eAAmD,CAAC,IAAD,sBAAvCK,EAAuC,KAAlCjB,EAAkC,KAC1Ca,EAAWK,SAASD,KACrBH,EAAoBG,GAAOjB,GAInC,OAAOc,GAWEK,EAAgB,SAACC,GAC1B,QAAc1D,IAAV0D,IAAwBA,EACxB,MAAO,GAKX,IAFA,IAAMC,EAAW,GAERC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAAK,CACnC,IAAMlD,EAAOgD,EAAME,GAEnB,GAAKE,MAAMC,QAAQrD,EAAK+B,IAKxB,IAAK,IAAImB,EAAI,EAAGA,EAAIlD,EAAK+B,GAAGoB,OAAQD,IAAK,CACrC,IAAMI,EAAI,eAAQtD,GAClBsD,EAAKvB,GAAK/B,EAAK+B,GAAGmB,GAClBD,EAASM,KAAKD,QAPdL,EAASM,KAAKvD,GAWtB,OAAOiD,GAYEO,EAAW,SAACC,GACrB,QAAOA,EAAYT,OAGVU,EAAsB,SAAC1D,EAAMyD,GAAiB,IAAD,gBAChCA,EAAYT,OADoB,IACtD,2BAAyC,CAAC,IAA/BW,EAA8B,QACrC,GAAyB,kBAAb3D,EAAK+B,GACb,OAAO6B,EAAuB5D,EAAM2D,GAChC,IAAD,gBACa3D,EAAK+B,IADlB,IACH,2BAAyB,CAAC,IAAfP,EAAc,QACrB,GAA4B,kBAAhBmC,EAAQ5B,IAChB,GAAI4B,EAAQ5B,KAAOP,EACf,OAAO,OAGX,GAAImC,EAAQ5B,GAAGe,SAAStB,GAAI,CACxB,IAAIqC,GAAc,EAClB,IAAK,IAAM/B,KAAK9B,EACF,OAAN8B,GACI6B,EAAQ7B,KAAO9B,EAAK8B,KACpB+B,GAAc,GAI1B,GAAIA,EACA,OAAO,IAjBpB,gCAJ2C,8BA2BtD,OAAO,GAGLD,EAAyB,SAAC5D,EAAM2D,GAClC,GAA4B,kBAAhBA,EAAQ5B,IAChB,GAAI4B,EAAQ5B,KAAO/B,EAAK+B,GACpB,OAAO,OAGX,GAAI4B,EAAQ5B,GAAGe,SAAS9C,EAAK+B,IAAK,CAC9B,IAAI8B,GAAc,EAClB,IAAK,IAAM/B,KAAK9B,EACF,OAAN8B,GACI6B,EAAQ7B,KAAO9B,EAAK8B,KACpB+B,GAAc,GAI1B,GAAIA,EACA,OAAO,I,SC5GR,SAASC,EAAKC,GAEzB,IAAMC,EAAc,CAChB,gBAAmB,kBAACC,EAAD,CAAaxD,KAAK,aAAaT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WACpF,kBAAqB,kBAACC,EAAD,CAAe1D,KAAK,aAAaT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WACxF,aAAgB,kBAACE,EAAD,CAAU3D,KAAK,aAAaT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WAC9E,uBAA0B,kBAACG,EAAD,CAAkB5D,KAAK,QAAQT,KAAM+D,EAAM/D,KAAMsE,UAAWP,EAAMG,WAC5F,kBAAqB,kBAACK,EAAD,CAAa9D,KAAK,QAAQT,KAAM+D,EAAM/D,KAAMsE,UAAWP,EAAMG,WAClF,cAAiB,kBAACM,EAAD,CAAW/D,KAAK,aAAaT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WAChF,wBAA2B,kBAACO,EAAD,CAAmBhE,KAAK,QAAQT,KAAM+D,EAAM/D,KAAMsE,UAAWP,EAAMG,WAC9F,mBAAsB,kBAACQ,EAAD,CAAcjE,KAAK,QAAQT,KAAM+D,EAAM/D,KAAMsE,UAAWP,EAAMG,WACpF,aAAgB,kBAACS,EAAD,CAAYlE,KAAK,UAAUT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WAC7E,iBAAoB,kBAACC,EAAD,CAAe1D,KAAK,SAAST,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,YAGvF,OAAIF,EAAYD,EAAM/D,KAAK+B,IAChBiC,EAAYD,EAAM/D,KAAK+B,IAGJ,WAA1BgC,EAAMa,gBACC,kBAACD,EAAD,CAAYlE,KAAK,UAAUT,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WACnC,UAA1BH,EAAMa,gBACN,kBAACX,EAAD,CAAaxD,KAAK,SAAST,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WAGjE,kBAACW,EAAD,CAAe7E,KAAM+D,EAAM/D,KAAMkE,SAAUH,EAAMG,WAGrD,SAASD,EAAYF,GACxB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,oIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,8DAAf,YAEJ,yBAAKA,UAAU,yEAAyElB,EAAM/D,KAAKqC,MACnG,4BAAQ4C,UAAU,iEAAiEC,QAAS,kBAThFC,EASiGpB,OARjHe,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASlB,EAAcJ,GAC1B,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,8HACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,2DAAf,cAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,8DAA8DC,QAAS,kBAT7EC,EAS8FpB,OAR9Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASjB,EAASL,GACrB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,kIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,6DAAf,SAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,gEAAgEC,QAAS,kBAT/EC,EASgGpB,OARhHe,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAAShB,EAAiBN,GAC7B,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,kIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,6DAAf,iBAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,gEAAgEC,QAAS,kBAT/EC,EASgGpB,OARhHe,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASd,EAAYR,GACxB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,kIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,6DAAf,YAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,gEAAgEC,QAAS,kBAT/EC,EASgGpB,OARhHe,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASb,EAAUT,GACtB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,gIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,4DAAf,UAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,+DAA+DC,QAAS,kBAT9EC,EAS+FpB,OAR/Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASZ,EAAkBV,GAC9B,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,gIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,4DAAf,kBAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,+DAA+DC,QAAS,kBAT9EC,EAS+FpB,OAR/Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASX,EAAaX,GACzB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,gIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,4DAAf,aAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,+DAA+DC,QAAS,kBAT9EC,EAS+FpB,OAR/Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASV,EAAWZ,GACvB,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,8HACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,2DAAf,WAEJ,yBAAKA,UAAU,0EAA0ElB,EAAM/D,KAAKqC,MACpG,4BAAQ4C,UAAU,8DAA8DC,QAAS,kBAT7EC,EAS8FpB,OAR9Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,YAMjC,SAASR,EAAcd,GAC1B,IAAMe,EAAUC,qBAAWC,GAI3B,OACI,yBAAKC,UAAU,gIACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,8CAAf,cAEJ,yBAAKA,UAAU,+DAA+DlB,EAAM/D,KAAKqC,MACzF,4BAAQ4C,UAAU,4DAA4DC,QAAS,kBAT3EC,EAS4FpB,OAR5Ge,EAAQ/E,WAAWoF,GADJ,IAACA,IAUR,kBAAC,IAAD,CAAQC,KAAM,GAAIC,MAAM,Y,wCClM3BC,EAAkB,SAACvB,GAC5B,OACI,yBAAKkB,UAAU,8BACX,yBAAKA,UAAU,UACVlB,EAAMwB,UAEX,4BAAQL,QAAS,kBAAMM,OAAOC,KAAK1B,EAAM2B,QAAQrD,KAAM,YACnD,kBAAC,EAAD,CAAUjB,KAAM2C,EAAM2B,QAAQtE,QAElC,yBAAK6D,UAAU,UAWdU,EAAW,SAAC5B,GACrB,OACI,oCACI,kBAAC,IAAD,CAAMsB,MAAM,OACRD,KAAK,KACLQ,aAAW,EACXC,YAAU,OACVC,WAAU/B,EAAM3C,KAChB2E,wBAAsB,YAE1B,kBAAC,IAAD,CAAc3E,MAAM,EAAMX,KAAK,W,OC1CrCuF,EACF,WAAY5E,EAAMiB,GAAO,oBACrB4D,KAAK7E,KAAOA,EACZ6E,KAAK5D,KAAOA,GAsCP6D,EAAyB,WASlC,OAAO,IAAIF,EARD,gWAMG,sDAKJG,EAAgB,CACzB,WAvCO,IAAIH,EAPD,oZAMG,mEAyCb,QA7BO,IAAIA,EAPD,uYAMG,iEA+Bb,OAlBO,IAAIA,EARD,6VAOG,gEAoBb,MAASE,K,SCvDAE,EAAY,SAACrC,GACtB,OACI,yBAAKkB,UAAU,0BACX,2BAAOxE,KAAK,SACR4F,aAAa,KACbpB,UAAU,2GACVqB,QAASvC,EAAMuC,QACfC,YAAaxC,EAAMwC,YACnBC,aAAYzC,EAAM0C,YAEtB,yBAAKC,UAAQ,EAACjG,KAAK,SAASwE,UAAU,mDAClC,kBAAC,IAAD,CAAQI,MAAM,eCdxB3E,EAAOC,EAAQ,KA2BNT,EAxBI,uCAAG,4BAAAyG,EAAA,6DACd3G,EAAO,GADO,kBAEXU,EAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,OACjBC,MAAM,CACL,CACIc,MAAO,OACPlB,MAAO,YACPK,KAAM,wDAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAMC,EAAYF,EAAKN,MAGvB,OAFC5B,EAAKqC,KAAQD,EAAU,GACvBpC,EAAK+B,GAAK,eACJ/B,OAlBG,2CAAH,qD,SCQb4G,EAAsB,CAAC,QAAS,QAAS,eAEhC,SAASC,EAAO9C,GAAQ,IAAD,EAC5Be,EAAUC,qBAAWC,GAE3B,GAA0C,IAArCrC,OAAOmE,KAAK/C,EAAMgD,QAAQ5D,QAAgBY,EAAMgD,OAAOC,cAAgBrE,OACxE,OAAO,yBAAKsC,UAAU,uBAAf,sEAGX,IAAM8B,EAAShD,EAAMgD,OACf/D,EAAQD,EAAcgB,EAAMgD,OAAO/D,OACnCN,EAAsBJ,EAAyB,CAAE/C,KAAMwE,EAAMkD,YAAclD,EAAMgD,OAAQH,GACzFM,EAAavE,OAAOmE,KAAKpE,GAAqBnB,KAAI,SAAAC,GACpD,OAAO,wBAAIqB,IAAKrB,GAAIA,EAAb,MAAmB2F,KAAKC,UAAU1E,EAAoBlB,QAU3D6F,EAAc,uCAAG,4BAAAV,EAAA,sEACKzG,IADL,QACboH,EADa,UAPItH,EAUGsH,EATtB9D,EAASuD,IACFrD,EAAoB1D,EAAM+G,GAS7BrG,IAAK6G,KAAK,CACNzG,MAAO,eACPM,KAAM,6EACNoG,KAAM,UACNzG,kBAAmB,MACnB0G,uBAAwB,MACxBzG,kBAAkB,EAClB0G,iBAAkB,KAClBC,sBAAuB,OACxB1F,MAAK,SAAAT,GACAA,EAAEoG,aACF9C,EAAQ5E,cAAc,CAAE+G,WAAYlD,EAAMkD,WAAYjH,KAAMsH,OAIpExC,EAAQ5E,cAAc,CAAE+G,WAAYlD,EAAMkD,WAAYjH,KAAMsH,KAnBjD,iCAPG,IAACtH,IAOJ,OAAH,qDA4BpB,OACI,iCACI,6BAASiF,UAAU,uFACf,yBAAKA,UAAU,aAAf,UAA4B8B,EAAOjG,aAAnC,QAA4CiD,EAAMkD,YAClD,4BAAQhC,UAAU,qDAAqDC,QARrD,WAC1BJ,EAAQzE,wBAAwB,UAAW0D,EAAMkD,cAQrC,kBAAC,IAAD,CAAQ7B,KAAM,GAAIC,MAAM,YAGhC,yBAAKJ,UAAU,QACX,yBAAKA,UAAU,8BAA8B8B,EAAOc,aACpD,wBAAI5C,UAAU,0CAA0CiC,GACxD,yBAAKjC,UAAU,+BACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAAiBA,UAAU,aAAaS,QAASQ,KAC7C,wBAAIjB,UAAU,wCAAd,WAGR,4BAAQC,QAASmC,GACb,kBAAC,IAAD,CAAYhC,MAAM,UAAUD,KAAK,SAGxCpC,EAAMzB,KAAI,SAACvB,EAAMkD,GAAP,OACP,kBAACY,EAAD,CAAMjB,IAAKK,EAAGlD,KAAMA,EAAMkE,SAAUH,EAAMkD,WAAYrC,gBAAiB,gBCnF3F,IAAMlE,EAAOC,EAAQ,KAoCNP,EAlCM,WACjB,IAAIJ,EAAO,GACX,OAAOU,EAAKG,MAAM,CACdC,MAAO,iBACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIC,KAAM,6CACNC,KAAMZ,EAAqB,UAC3Ba,WAAY,WACR,IAAMC,EAAa,CAAC,IAAK,KAAKC,KAAI,SAAAC,GAC9B,OAAOC,SAASC,eAAe,WAAaF,GAAGG,QAAUF,SAASC,eAAe,WAAaF,GAAGI,WAAQtC,KAC1GuC,QAAO,SAAAC,GAAC,YAAUxC,IAANwC,KACfgG,QAAQC,IAAI,aAAczG,GAC1BtB,EAAK+B,GAAKT,IAGlB,CACIU,MAAO,OACPlB,MAAO,YACPK,KAAM,uDAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAMC,EAAYF,EAAKN,MAEvB,OADA5B,EAAKqC,KAAOD,EAAU,GACfpC,OCpBb4G,EAAsB,CAAC,QAAS,QAAS,eAEhC,SAASoB,GAAMjE,GAAQ,IAAD,EAC3Be,EAAUC,qBAAWC,GAC3B,GAAyC,IAApCrC,OAAOmE,KAAK/C,EAAMkE,OAAO9E,QAAgBY,EAAMkE,MAAMjB,cAAgBrE,OACtE,OAAO,yBAAKsC,UAAU,uBAAf,qEAGX,IAAMgD,EAAQlE,EAAMkE,MACdjF,EAAQD,EAAcgB,EAAMkE,MAAMjF,OAClCN,EAAsBJ,EAAyB,CAAE/C,KAAMwE,EAAMmE,WAAanE,EAAMkE,MAAOrB,GACvFM,EAAavE,OAAOmE,KAAKpE,GAAqBnB,KAAI,SAAAC,GACpD,OAAO,wBAAIqB,IAAKrB,GAAIA,EAAb,MAAmB2F,KAAKC,UAAU1E,EAAoBlB,QAU3D6F,EAAc,uCAAG,4BAAAV,EAAA,sEACKvG,IADL,QACbkH,EADa,UAPItH,EAUGsH,EATtB9D,EAASyE,IACFvE,EAAoB1D,EAAMiI,GAS7BvH,IAAK6G,KAAK,CACNzG,MAAO,eACPM,KAAM,6EACNoG,KAAM,UACNzG,kBAAmB,MACnB0G,uBAAwB,MACxBzG,kBAAkB,EAClB0G,iBAAkB,KAClBC,sBAAuB,OACxB1F,MAAK,SAAAT,GACAA,EAAEoG,aACF9C,EAAQ1E,aAAa,CAAE8H,UAAWnE,EAAMmE,UAAWlI,KAAMsH,OAIjExC,EAAQ1E,aAAa,CAAE8H,UAAWnE,EAAMmE,UAAWlI,KAAMsH,KAnB9C,iCAPG,IAACtH,IAOJ,OAAH,qDA4BpB,OACI,iCACI,6BAASiF,UAAU,uFACf,yBAAKA,UAAU,aAAf,UAA4BgD,EAAMnH,aAAlC,QAA2CiD,EAAMmE,WACjD,4BAAQjD,UAAU,qDAAqDC,QARtD,WACzBJ,EAAQzE,wBAAwB,SAAU0D,EAAMmE,aAQpC,kBAAC,IAAD,CAAQ9C,KAAM,GAAIC,MAAM,YAGhC,yBAAKJ,UAAU,QACX,yBAAKA,UAAU,8BAA8BgD,EAAMJ,aACnD,wBAAI5C,UAAU,0CAA0CiC,GACxD,yBAAKjC,UAAU,+BACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAAiBA,UAAU,aAAaS,QAASQ,KAC7C,wBAAIjB,UAAU,wCAAd,WAGR,4BAAQC,QAASmC,GACb,kBAAC,IAAD,CAAYhC,MAAM,UAAUD,KAAK,SAGxCpC,EAAMzB,KAAI,SAACvB,EAAMkD,GAAP,OACP,kBAACY,EAAD,CAAMjB,IAAKK,EAAGlD,KAAMA,EAAMkE,SAAUH,EAAMmE,UAAWtD,gBAAiB,eClF1F,IAAMlE,GAAOC,EAAQ,KAoCNwH,GAjCM,uCAAG,4BAAAxB,EAAA,6DAChB3G,EAAO,GADS,kBAEbU,GAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIC,KAAM,6CACNC,KAAMZ,EAAqB,cAC3Ba,WAAY,WACR,IAAMC,EAAa,CAAC,IAAK,IAAK,IAAK,KAAKC,KAAI,SAAAC,GACxC,OAAOC,SAASC,eAAe,WAAaF,GAAGG,QAAUF,SAASC,eAAe,WAAaF,GAAGI,WAAQtC,KAC1GuC,QAAO,SAAAC,GAAC,YAAUxC,IAANwC,KACf9B,EAAK+B,GAAKT,IAGlB,CACIU,MAAO,OACPlB,MAAO,YACPK,KAAM,0DAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAMC,EAAYF,EAAKN,MAEvB,OADC5B,EAAKqC,KAAQD,EAAU,GACjBpC,OA3BK,2CAAH,qDCOf4G,GAAsB,CAAC,QAAS,QAAS,eAEhC,SAASwB,GAASrE,GAAQ,IAAD,EAC9Be,EAAUC,qBAAWC,GAE3B,GAAwC,IAAnCrC,OAAOmE,KAAK/C,EAAM7B,MAAMiB,QAAgBY,EAAM7B,KAAK8E,cAAgBrE,OACpE,OAAO,yBAAKsC,UAAU,uBAAf,wEAGX,IAAMoD,EAAWtE,EAAM7B,KACjBc,EAAQD,EAAcgB,EAAM7B,KAAKc,OAEjCN,EAAsBJ,EAAyB,CAAE/C,KAAMwE,EAAMG,UAAYH,EAAM7B,KAAM0E,IACrFM,EAAavE,OAAOmE,KAAKpE,GAAqBnB,KAAI,SAAAC,GACpD,OAAO,wBAAIqB,IAAKrB,GAAIA,EAAb,MAAmB2F,KAAKC,UAAU1E,EAAoBlB,QAU3D6F,EAAc,uCAAG,4BAAAV,EAAA,sEACKwB,KADL,QACbb,EADa,UAPItH,EAUGsH,EATtB9D,EAAS6E,IACF3E,EAAoB1D,EAAMqI,GAS7B3H,IAAK6G,KAAK,CACNzG,MAAO,eACPM,KAAM,6EACNoG,KAAM,UACNzG,kBAAmB,MACnB0G,uBAAwB,MACxBzG,kBAAkB,EAClB0G,iBAAkB,KAClBC,sBAAuB,OACxB1F,MAAK,SAAAT,GACAA,EAAEoG,aACF9C,EAAQ7E,QAAQ,CAAEiE,SAAUH,EAAMG,SAAUlE,KAAMsH,OAI1DxC,EAAQ7E,QAAQ,CAAEiE,SAAUH,EAAMG,SAAUlE,KAAMsH,KAnBvC,iCAPG,IAACtH,IAOJ,OAAH,qDA4BpB,OACI,iCACI,6BAASiF,UAAU,8FACf,wBAAIA,UAAU,aAAd,UAA2BoD,EAASvH,aAApC,QAA6CiD,EAAMG,UACnD,4BAAQe,UAAU,qDAAqDC,QARnD,WAC5BJ,EAAQzE,wBAAwB,aAAc0D,EAAMG,YAQxC,kBAAC,IAAD,CAAQkB,KAAM,GAAIC,MAAM,YAGhC,yBAAKJ,UAAU,QACX,yBAAKA,UAAU,8BAA8BoD,EAASR,aACtD,wBAAI5C,UAAU,0CAA0CiC,GACxD,yBAAKjC,UAAU,wCACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAAiBA,UAAU,aAAaS,QAASQ,KAC7C,wBAAIjB,UAAU,wCAAd,WAGR,4BAAQC,QAASmC,GACb,kBAAC,IAAD,CAAYhC,MAAM,UAAUD,KAAK,SAGxCpC,EAAMzB,KAAI,SAACvB,EAAMkD,GAAP,OACP,kBAACY,EAAD,CAAMjB,IAAKK,EAAGgB,SAAUH,EAAMG,SAAUlE,KAAMA,EAAM4E,gBAAiB,WAAYK,UAAU,mBCpF/G,IAAMvE,GAAOC,EAAQ,KAgGN2H,GA7FE,uCAAG,4BAAA3B,EAAA,6DACZ0B,EAAW,GADC,kBAET3H,GAAKG,MAAM,CACdmB,MAAO,OACPjB,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,IAAK,OAC3BC,MAAM,CACL,CACIJ,MAAO,gBACPK,KAAM,6CAEV,CACIL,MAAO,eACPK,KAAM,4CACNa,MAAO,SACPuG,aAAc,CACVC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,OAAQ,SACRnG,OAAQ,SACRoG,MAAO,SAEXC,iBAAkB,iBAEtB,CACI/H,MAAO,cACPK,KAAM,8CACN2H,cAAc,EACd/H,kBAAmB,MACnBC,kBAAkB,EAClB+H,gBAAgB,EAChBC,eAAgB,KAChBhH,MAAO,QAEZC,MAAK,SAACgH,GACL,IAAKA,EAAO9G,QAAS,CACjB,GAAI8G,EAAOrH,MAAM,GACb,OAAOlB,GAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIC,KAAM,6CACNC,KAAMZ,EAAqB,cAC3Ba,WAAY,WACR,IAAMC,EAAa,CAAC,IAAK,IAAK,IAAK,KAAKC,KAAI,SAAAC,GACxC,OAAOC,SAASC,eAAe,WAAaF,GAAGG,QAAUF,SAASC,eAAe,WAAaF,GAAGI,WAAQtC,KAC1GuC,QAAO,SAAAC,GAAC,YAAUxC,IAANwC,KACfmH,EAAOrH,MAAM,GAAKN,IAG1B,CACIU,MAAO,OACPlB,MAAO,YACPK,KAAM,0DAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAMC,EAAYF,EAAKN,MACjBsH,EAAcD,EAAOrH,MAW3B,OAVAyG,EAAW,CACPvH,MAAOoI,EAAY,GACnBzI,KAAMyI,EAAY,GAClBlG,MAAO,CACH,CACIjB,GAAImH,EAAY,GAChB7G,KAAMD,EAAU,UASxC,IAAM8G,EAAcD,EAAOrH,MAQ3B,OAPKqH,EAAO,KACRZ,EAAW,CACPvH,MAAOoI,EAAY,GACnBzI,KAAMyI,EAAY,KAG1BpB,QAAQC,IAAR,WAAwBM,GACjBA,OAvFC,2CAAH,qDCJX3H,GAAOC,EAAQ,KAqENwI,GAlEG,WACd,IAAIpC,EAAS,GACb,OAAOrG,GAAKG,MAAM,CACdmB,MAAO,OACPjB,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIJ,MAAO,cACPK,KAAM,2CAEV,CACIL,MAAO,cACPK,KAAM,4CACN2H,cAAc,EACd/H,kBAAmB,MACnBC,kBAAkB,EAClB+H,gBAAgB,EAChBC,eAAgB,KAChBhH,MAAO,QAEZC,MAAK,SAACgH,GACL,IAAKA,EAAO9G,QAAS,CACjB,GAAI8G,EAAOrH,MAAM,GACb,OAAOlB,GAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,OACjBC,MAAM,CACL,CACIc,MAAO,OACPlB,MAAO,YACPK,KAAM,wDAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAM+G,EAAcD,EAAOrH,MACrBQ,EAAYF,EAAKN,MAUvB,OATAmF,EAAS,CACLjG,MAAOoI,EAAY,GACnBlG,MAAO,CACH,CACIjB,GAAI,eACJM,KAAMD,EAAU,UASpC,IAAM8G,EAAcD,EAAOrH,MAM3B,OALKsH,EAAY,KACbnC,EAAS,CACLjG,MAAOoI,EAAY,KAGpBnC,OC9DjBrG,GAAOC,EAAQ,KCDfyI,GAAuB,CACzB,WAAcd,GACd,QAAWa,GACX,ODAa,WACb,IAAIlB,EAAQ,GACZ,OAAOvH,GAAKG,MAAM,CACdmB,MAAO,OACPjB,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIJ,MAAO,aACPK,KAAM,0CAEV,CACIL,MAAO,cACPK,KAAM,2CACN2H,cAAc,EACd/H,kBAAmB,MACnBC,kBAAkB,EAClB+H,gBAAgB,EAChBC,eAAgB,KAChBhH,MAAO,QAEZC,MAAK,SAACgH,GACL,IAAKA,EAAO9G,QAAS,CACjB,GAAI8G,EAAOrH,MAAM,GACb,OAAOlB,GAAKG,MAAM,CACdC,MAAO,WACPC,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,OACtBC,MAAM,CACL,CACIC,KAAM,6CACNC,KAAMZ,EAAqB,UAC3Ba,WAAY,WACR,IAAMC,EAAa,CAAC,IAAK,KAAKC,KAAI,SAAAC,GAC9B,OAAOC,SAASC,eAAe,WAAaF,GAAGG,QAAUF,SAASC,eAAe,WAAaF,GAAGI,WAAQtC,KAC1GuC,QAAO,SAAAC,GAAC,YAAUxC,IAANwC,KACfgG,QAAQC,IAAI,aAAczG,GAC1B2H,EAAOrH,MAAM,GAAKN,IAG1B,CACIU,MAAO,OACPlB,MAAO,YACPK,KAAM,uDAEXc,MAAK,SAACC,GACL,IAAKA,EAAKC,QAAS,CACf,IAAM+G,EAAcD,EAAOrH,MACrBQ,EAAYF,EAAKN,MAUvB,OATAqG,EAAQ,CACJnH,MAAOoI,EAAY,GACnBlG,MAAO,CACH,CACIjB,GAAImH,EAAY,GAChB7G,KAAMD,EAAU,UASxC,IAAM8G,EAAcD,EAAOrH,MAO3B,OALKsH,EAAY,KACbjB,EAAQ,CACJnH,MAAOoI,EAAY,KAGpBjB,QCrEboB,GAAW,MAGb3J,GAAK,GACL4J,GAAQ,GASCC,GAAqB,SAACxF,GAAW,IAAD,EACbyF,mBAAS,IADI,mBAClC3H,EADkC,KAC1B4H,EAD0B,OAEPD,mBAASH,IAFF,mBAElCK,EAFkC,KAEvBC,EAFuB,KAInCC,EAAc7F,EAAM6F,YAAYC,cAChC/E,EAAUC,qBAAWC,GAE3B,IACIsE,GAAQ5J,GACR,IAAMoK,EAAW3C,KAAK4C,MAAMjF,EAAQ5F,WACpCQ,GAAKoK,EACP,MAAO3E,GACLzF,GAAK4J,GAGT,IA8EMU,EAAqB,uCAAG,4BAAArD,EAAA,sEACKyC,GAAqBQ,KAD1B,QACpBK,EADoB,UARGxJ,EAYDmJ,EAZOrK,EAYM0K,EAAiBnJ,MAZjBuH,EAYwB4B,EAX5DvK,GAAGe,KACJf,GAAGe,GAAQ,IAEff,GAAGe,GAAMlB,GAAQ8I,EACjBvD,EAAQrF,gBAAgB0H,KAAKC,UAAU1H,GAAI,KAAM,KAGvB,iCARE,IAACe,EAAMlB,EAAM8I,IAQf,OAAH,qDAQrB6B,EAAgB,WAClB,IAAMC,EAjFU,WAChB,GAAKzK,GAAGkK,GAAR,CAIA,IAAMQ,EAAW,GAYjB,OAXAzH,OAAOmE,KAAKpH,GAAGkK,IAAc/H,QAAO,SAAAsD,GAChC,OAAIA,EAAE0E,cAAcQ,QAAQxI,EAAOgI,gBAAkB,KAMtDS,SAAQ,SAACzH,GACRuH,EAASvH,GAAOnD,GAAGkK,GAAa/G,MAG7BuH,GAgEsBG,GAE7B,OAAI7K,GAAG8K,YAA8B,eAAhBZ,EACVjH,OAAOmE,KAAKqD,GAAsB5I,KAAI,SAACsB,EAAK4H,GAC/C,OAAQ,kBAACrC,GAAD,CAAUlG,KAAMiI,EAAqBtH,GAAMqB,SAAUrB,EAAKA,IAAK4H,OAG3E/K,GAAGgL,SAA2B,YAAhBd,EACPjH,OAAOmE,KAAKqD,GAAsB5I,KAAI,SAACsB,EAAK4H,GAC/C,OAAQ,kBAAC5D,EAAD,CAAQE,OAAQoD,EAAqBtH,GAAMoE,WAAYpE,EAAKA,IAAK4H,OAG7E/K,GAAGiL,QAA0B,WAAhBf,EACNjH,OAAOmE,KAAKqD,GAAsB5I,KAAI,SAACsB,EAAK4H,GAC/C,OAAQ,kBAACzC,GAAD,CAAOC,MAAOkC,EAAqBtH,GAAMqF,UAAWrF,EAAKA,IAAK4H,YAF9E,GAOJ,OACI,oCACI,yBAAKxF,UAAU,0CACX,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAAiBS,QAASS,EAAcyD,IACpC,wBAAI3E,UAAU,sCAAsClB,EAAM6F,eAGlE,kBAAC,EAAD,CACItD,QAAS,SAACnB,GAAD,OAnHOsE,EAmHatE,EAnHGyF,OAAOhJ,QAoHvC2E,YAAW,iBAAYxC,EAAM6F,aAC7BnD,UAAS,6BAAwB1C,EAAM6F,eAE3C,yBAAK3E,UAAU,QACf,4BAAQA,UAAU,2DAA2DC,QAAS,kBA9FzE,SAAC5E,GACtB,GAAKZ,GAAGY,GAAR,CAIA,IAAMuK,EAAU,GACVC,EAASnI,OAAOmE,KAAKpH,GAAGY,IAAOiB,KAAI,SAAAC,GACrC,MAAO,CAAEqB,IAAKrB,EAAGV,MAAOpB,GAAGY,GAAMkB,GAAGV,UAEpC4I,IAAcL,IACdyB,EAAOC,MAAK,SAACpE,EAAGqE,GACZ,IAAMC,EAAQtE,EAAE7F,MAAQ6F,EAAE7F,MAAQ6F,EAAE9D,IAC9BqI,EAAQF,EAAElK,MAAQkK,EAAElK,MAAQkK,EAAEnI,IACpC,OAAOoI,EAAME,cAAcD,MAC5BZ,SAAQ,SAAUc,GACjBP,EAAQO,EAAavI,KAAOnD,GAAGY,GAAM8K,EAAavI,QAEtD8G,EAtEM,UAwENmB,EAAOC,MAAK,SAACpE,EAAGqE,GACZ,IAAMC,EAAQtE,EAAE7F,MAAQ6F,EAAE7F,MAAQ6F,EAAE9D,IAC9BqI,EAAQF,EAAElK,MAAQkK,EAAElK,MAAQkK,EAAEnI,IACpC,OAAOoI,EAAME,cAAcD,MAC5BG,UAAUf,SAAQ,SAAUc,GAC3BP,EAAQO,EAAavI,KAAOnD,GAAGY,GAAM8K,EAAavI,QAEtD8G,EAAaN,KAEjB3J,GAAGY,GAAQuK,EACX/F,EAAQrF,gBAAgB0H,KAAKC,UAAU1H,GAAI,KAAM,KAiEmD4L,CAAiB1B,KA7DjHF,IAAcL,GACP,yBAAKkC,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,UAAUC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,SAC3K,0BAAMC,EAAE,iDAIR,yBAAKT,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,UAAUC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,SAC5K,0BAAMC,EAAE,kDAyDJ,yBAAK/G,UAAU,QACf,4BAAQA,UAAU,6EAA6EC,QAAS8E,GAAxG,QAEHE,KAAmB,yBAAKjF,UAAU,yCAAyCiF,O,6BCvJjF,IAAM+B,GAAiB,SAAjBA,EAAkB1K,GAAS,IAAD,EACKiI,mBAAS,IAAIpG,MAAMT,OAAOC,QAAQrB,GAAK4B,SAD5C,mBAC5B+I,EAD4B,KACdC,EADc,KAE7BC,EAAcC,uBAAY,SAACnJ,GAC7B,IAAII,EAAO4I,EACP1K,EAAI0K,EAAahJ,GACrBI,EAAKJ,GAAW,OAAN1B,IAAqBA,EAC/B2K,EAAgB,aAAI7I,MACrB,CAAC4I,EAAcC,IAElB,OACI,oCACKxJ,OAAOC,QAAQrB,GAAKA,KAAI,WAAS2B,GAAO,IAhBnCoJ,EAgBkC,mBAAbC,EAAa,KAAVC,EAAU,KACpC,GAhBA,QADEF,EAiBWE,KAfD,oBAARF,GAAuC,kBAARA,GAelB,CAAC,IAAD,EACTG,EAAa,4BAAQxH,UAAU,iBAAiBC,QAAS,kBAAMkH,EAAYlJ,KAC3E,yBAAK+B,UAAU,2EACX,4BAAKsH,IACgB,IAApBL,EAAahJ,GAAc,kBAAC,KAAD,CAAa+B,UAAU,SAAY,kBAAC,KAAD,CAAcA,UAAU,WAI3FM,EAAY,yBAAKN,UAAU,QAC3B,yBAAKA,UAAU,8CACf,yBAAKA,UAAU,cACU,IAApBiH,EAAahJ,KAAe,UAACP,OAAOC,QAAQ4J,UAAhB,QAAsB,IAAIjL,KAAI,WAAWmL,GAAQ,IAAD,mBAAhBC,EAAgB,KAAZC,EAAY,KACrEC,EAAK,GAET,OADAA,EAAGF,GAAMC,EACF,kBAACX,EAAD,iBAAoBY,EAApB,CAAwBhK,IAAK6J,UAKhD,OACI,yBAAKzH,UAAU,OAAOpC,IAAKK,GACtBuJ,GACoB,IAApBP,EAAahJ,IAAeqC,GAKzC,OACI,yBAAKN,UAAU,YAAYpC,IAAKK,GAC5B,wBAAI+B,UAAU,yDAAyDsH,GACvE,yBAAKtH,UAAU,2BAAf,UAA6CuH,UCxCjEM,GAAS,GACTC,GAAY,GACZC,GAAQ,GAIG,SAASC,KACpB,IAAMnI,EAAUC,qBAAWC,GAC3B,IACI+H,GAAYD,GACZA,GAAS3F,KAAK4C,MAAMjF,EAAQ5F,WAC5B8N,GAAQ,GACV,MAAO7H,GACL6H,GAAQ7H,EAAE+H,QACVJ,GAASC,GAGb,IAAKpK,OAAOmE,KAAKgG,IAAQ3J,OACrB,OACI,yBAAK8B,UAAU,2EACX,yBAAKA,UAAU,yCAAf,gDAKZ,IA4BIjC,EACAmK,EA7BEC,EAAoB,uCAAG,4BAAAzG,EAAA,sEACD/F,IADC,QACnB0G,EADmB,UAGhB9D,EAASsJ,MACVA,GAAO9J,MAAQ,IAEfU,EAAoB4D,EAAWwF,KAC/BpM,IAAK6G,KAAK,CACNzG,MAAO,eACPM,KAAM,6EACNoG,KAAM,UACNzG,kBAAmB,MACnB0G,uBAAwB,MACxBzG,kBAAkB,EAClB0G,iBAAkB,KAClBC,sBAAuB,OACxB1F,MAAK,SAAAT,GACAA,EAAEoG,cACFkF,GAAO9J,MAAMO,KAAK+D,GAClBxC,EAAQrF,gBAAgB0H,KAAKC,UAAU0F,GAAQ,KAxClD,QA4CTA,GAAO9J,MAAMO,KAAK+D,GAClBxC,EAAQrF,gBAAgB0H,KAAKC,UAAU0F,GAAQ,KA7CtC,KAqBY,2CAAH,qDA+B1B,GAAIA,GAAQ,CACR,GAAIA,GAAO9J,MAEPA,EADuBD,EAAc+J,GAAO9J,OACrBzB,KAAI,SAACsB,EAAK4H,GAC7B,OAAQ,kBAAC3G,EAAD,CAAM9D,KAAM6C,EAAKqB,SAAUuG,EAAO5H,IAAK4H,OAGvD0C,EAAWL,GAEX,IACMpK,EAAsBJ,EAAyBwK,GAAOO,GAAK,CAAEA,GAAIP,GAAOO,IAAO,GAAIP,GAD7D,CAAC,KAAM,aAAc,UAAW,SAAU,QAAS,cAAe,UAG9F,OACI,yBAAK7H,UAAU,+CACT+H,GAAM7J,OAAS,GACb,yBAAK8B,UAAU,0FACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,2DAAf,UAEJ,yBAAKA,UAAU,gEAAgE+H,UAExE1N,IAAb6N,GAA0BxK,OAAOmE,KAAKqG,GAAUhK,OAAS,GACvD,6BACI,yBAAK8B,UAAU,uBAAuBkI,EAASrM,OAC/C,kBAAC,GAAmB4B,GAEhByK,EAAStF,YAAc,yBAAK5C,UAAU,2BAA2BkI,EAAStF,aAAqB,sCAI3G,6BAAS5C,UAAU,QACf,6BAASA,UAAU,kDACf,yBAAKA,UAAU,kBACX,kBAAC,EAAD,CAAiBS,QAASQ,KACtB,wBAAIjB,UAAU,qCAAd,WAGR,4BAAQA,UAAU,yEAAyEC,QAASkI,GAApG,iBAEHpK,GAAS,yBAAKiC,UAAU,QAAO,yBAAKA,UAAU,yCAAyCjC,KAG5F,kBAAC,GAAD,CAAoB4G,YAAY,eAChC,kBAAC,GAAD,CAAoBA,YAAY,YAChC,kBAAC,GAAD,CAAoBA,YAAY,a,cC3G1C0D,GAAU3M,EAAQ,KAElB4M,GACJ,qJACIC,GACJ,6GAGIC,GAAgB,CACpBC,qBAAqB,EACrBC,iBAAiB,EACjBC,qBAAsB,IAqMTC,GAlMa,SAAC9J,GAC3B,IAAMe,EAAUC,qBAAWC,GADU,EAEnBwE,mBAAS,IAApBsE,EAF8B,sBAGXtE,wBAASlK,GAHE,mBAG9ByO,EAH8B,KAGvBC,EAHuB,KAI/BC,EAAiBC,iBAAO,MAExBC,EAAe,uCAAG,WAAOC,GAAP,eAAAzH,EAAA,yDACtByH,EAAOC,UAAUC,KAAKC,aAAaC,sBAAsB,CACvDC,UAAU,EACVC,qBAAqB,EACrBZ,QAAS,KAGL,UAAWtI,OAPK,uBAQpBsC,QAAQ6G,KAAK,yCARO,0BAYlBZ,EAAQ,IAAIa,MAAMd,EAAS,CAC7Be,IAAK,SAAUjE,EAAQvC,EAAUzG,EAAOkN,GACtClE,EAAOvC,GAAYzG,EAGnB,IADA,IAAImN,EAAoB,CAACxB,IAChBrK,EAAI,EAAGA,EAAI0H,EAAOzH,OAAQD,IACjC6L,EAAkBxL,KAAK,CACrByL,UAAW,CAAC,OACZC,IAAKrE,EAAO1H,KAUhB,OANAkL,EAAOC,UAAUC,KAAKC,aAAaC,sBAAsB,CACvDC,UAAU,EACVC,qBAAqB,EACrBZ,QAASiB,KAGJ,KAGXf,EAASD,GAjCa,2CAAH,sDA2CfmB,EAAY,SAAC5C,GACbyB,EAAMjL,SAASwJ,IAGnByB,EAAMxK,KAAK+I,IAGP6C,EAAe,SAAC7C,GACpB,IAAM7B,EAAQsD,EAAM1D,QAAQiC,IACb,IAAX7B,GAGJsD,EAAMqB,OAAO3E,EAAO,IAOhB4E,EAAW,uCAAG,WAAOzE,GAAP,mBAAAjE,EAAA,0DACdoH,EAAMjL,SAAS8H,GADD,iEAMV0E,EAAM,IAAIC,IAAI3E,GANJ,SAOE4E,MAAMF,GAPR,cAOVG,EAPU,gBASKA,EAAInB,OATT,cASVoB,EATU,yBAUTA,GAVS,kCAYhB5H,QAAQkF,MAAR,MAZgB,0DAAH,sDAgBX2C,EAAQ,uCAAG,WAAOC,EAAYd,GAAnB,eAAAnI,EAAA,wFAAAA,EAAA,4CAAAA,EAAA,yDAGP,aADA2H,EAAOnH,KAAK4C,MAAM6F,IAFX,uBAnBf7B,EAAMqB,OAAO,Q,GAAQS,MAAM9B,MAAM5K,QAmBlB,6CAQgB7D,IAAzBwF,EAAQzF,aARC,wBASXyF,EAAQlF,oBAAmB,GAThB,SAUUyP,EAAY9B,IAVtB,eAYT2B,EAAU3B,IAZD,WAgBPuC,EAAYxB,EAAK,cACRA,EAAK,SACTjE,QAAQ,eAAiB,GAlBvB,oBAmBNvF,EAAQzF,aAnBF,wBAoBTyF,EAAQlF,oBAAmB,GApBlB,UAqBYyP,EAAY7B,IArBxB,gBAuBP0B,EAAU1B,IAvBH,oCA0BF1I,EAAQzF,aA1BN,sBA4BT8H,KAAKC,UAAU0I,GAAWzF,QACxB,sCACG,GA9BI,wBAgCTvF,EAAQlF,oBAAmB,GAhClB,UAiCYyP,EAAY9B,IAjCxB,gBAmCP2B,EAAU3B,IAnCH,WAyCY,kBAAduC,EAzCE,yBA0CgBxQ,IAAvBgO,GAAQwC,IAA6B/B,EAAMjL,SAASwK,GAAQwC,IA1CrD,kCA2CYT,EAAYS,GA3CxB,uBA6CPZ,EAAUY,GA7CH,0CAoDT1M,MAAMC,QAAQyM,GApDL,qBAAAnJ,EAAA,iBAqDFzD,GArDE,SAAAyD,EAAA,yDAsDmB,kBAAjBmJ,EAAU5M,GAtDZ,wBAuDoB5D,IAAvBgO,GAAQwC,IAA6B/B,EAAMjL,SAASwK,GAAQwC,IAvDzD,uBAwDLhI,QAAQC,IAAI,mBAAoB+H,GAxD3B,SAyDgBT,EAAYS,EAAU5M,IAzDtC,eA2DHgM,EAAUY,EAAU5M,IA3DjB,OA+DmB,kBAAjB4M,EAAU5M,IACnBP,OAAOmE,KAAKgJ,EAAU5M,IAAIoH,QAA1B,iBAAA3H,OAAA,IAAAA,CAAA,UAAkC,WAAOoN,GAAP,SAAApJ,EAAA,8DACUrH,IAAtCgO,GAAQwC,EAAU5M,GAAG6M,KAA+BhC,EAAMjL,SAASwK,GAAQwC,IAD/C,gCAETT,EAAY/B,GAAQwC,EAAU5M,GAAG6M,KAFxB,eAI5Bb,EAAU5B,GAAQwC,EAAU5M,GAAG6M,KAJH,2CAAlC,uDAhEO,0CAqDF7M,EAAI,EArDF,aAqDKA,EAAI4M,EAAU3M,QArDnB,0CAqDFD,GArDE,iBAqD2BA,IArD3B,wBA4Eb,GAAIE,MAAMC,QAAQyM,GAChB,IAD6B,EAAD,SACnB5M,GACP,IAAM1B,EAAImB,OAAOmE,KAAKwG,IAAS0C,MAC7B,SAACnN,GAAD,OAASyK,GAAQzK,KAASkL,EAAM7K,MAE7B4M,EAAUhN,SAAStB,IACtB2N,EAAapB,EAAM7K,KALdA,EAAI,EAAGA,EAAI6K,EAAM5K,OAAQD,IAAM,EAA/BA,GA7EE,oNAwFb4B,EAAQrF,gBAAgBmQ,EAAY,UAxFvB,0EAAH,wDA4Fd,OACE,yBAAK3K,UAAU,iBACb,kBAAC,KAAD,CACEgL,QAASxC,GACTtO,MAAO,MAAQ2F,EAAQ3F,MACvB+Q,SAAS,OACTC,IAAKlC,EACLrM,MAAOkD,EAAQ5F,UACfiP,gBAAiBA,EACjBiC,eA/IiB,SAACC,EAAQjC,GAC9BiC,EAAOC,6BAA4B,WACjC,IAAMC,EAAQF,EAAOG,WACP,OAAVD,GAAkBA,EAAME,gBA6I1Bd,SAAQ,uCAAE,WAAOC,GAAP,SAAAjJ,EAAA,sEACFgJ,EAASC,GADP,2CAAF,0D,0CC1MD,SAASc,GAAO3M,GAC3B,OACI,4BACImB,QAASnB,EAAMmB,QACfD,UAAU,2JAcV,yBAAKA,UAAU,qBACVlB,EAAMwB,WCpBhB,SAASoL,KACZ,MAAM,GAAN,OAAUC,GAAU,KAAM,eAAgB,WAAY,OAAtD,yBACUA,GAAU,QAAS,cAAe,cAAe,QAD3D,yBAEUA,GAAU,OAAQ,oCAAqC,aAAc,QAoCnF,IAAMA,GAAY,SAACC,EAAOtK,EAAa8G,EAAI5M,GACvC,MAAM,qKAAN,OAEwF4M,EAFxF,2BAGUwD,EAHV,8VAgBUxD,EAhBV,oCAiBmB9G,EAjBnB,4BAkBY9F,EAlBZ,2BCtCEqQ,GAAOnQ,EAAQ,KAEN,SAAeoQ,KAA9B,gC,8CAAe,gCAAApK,EAAA,6DACPqK,EAAa,GACbC,EAAgB,GAChBC,EAAa,GAHN,kBAKJJ,GAAKjQ,MAAM,CACdmB,MAAO,OACPmP,UAAU,EACVC,gBAAgB,EAChBrQ,kBAAmB,cACnBC,kBAAkB,EAClBC,cAAe,CAAC,IAAK,IAAK,OAC3BC,MAAM,CACL,CACIJ,MAAO,iBACPM,KAAMiQ,KACNrP,MAAO,KACPX,WAAY,WACR,IAAIgM,EAAK5L,SAASC,eAAe,YAAYE,MACzCd,EAAQW,SAASC,eAAe,eAAeE,MAC/C0P,EAAO7P,SAASC,eAAe,cAAcE,MAEjDoP,EAAa,CAAE3D,GAAIA,EAAIvM,MAAOA,EAAOwQ,KAAMA,KAGnD,CACIxQ,MAAO,iBACPM,KDxBF,oVCyBEY,MAAO,KACPX,WAAY,WACR4P,EAAgBxP,SAASC,eAAe,qBAAqBE,QAIrE,CACId,MAAO,cACPM,KDlBF,i1BCmBEY,MAAO,KACPX,WAAY,WACR6P,EAAazP,SAASC,eAAe,kBAAkBE,UAIhEK,MAAK,SAACgH,GACL,IAAIA,EAAO9G,QAAX,CAIA,IAAIoP,EAAQ,CAEZA,WAAoB,qCACpBA,EAAK,MAAiC,KAArBP,EAAWlQ,MAAekQ,EAAWlQ,MAAQ,gBAC9DyQ,EAAK,GAA2B,KAAlBP,EAAW3D,GAAY2D,EAAW3D,GAAK,uBAE7B,KAApB2D,EAAWM,OACXC,EAAK,KAA+B,KAApBP,EAAWM,KAAcN,EAAWM,KAAO,KAGzC,KAAlBL,IACAM,EAAK,YAAkBN,GAG3B,IAAIO,EAAsB,GAU1B,OATAA,EAAoB,GAAD,OAAIN,EAAJ,QAAuB,CAAEO,OAAQP,GAEpDK,EAAK,oBAA0BC,EAC/BD,EAAK,SAAL,UAAuBL,EAAvB,OAEAK,EAAK,WAAiB,GACtBA,EAAK,QAAc,GACnBA,EAAK,OAAa,GAEXA,OAxEA,4C,sBCMA,SAASG,KACtB,IAAM5M,EAAUC,qBAAWC,GADO,EAEAhG,IAAMwK,UAAS,GAFf,mBAE3BmI,EAF2B,KAEhBC,EAFgB,OAGc5S,IAAMwK,SAAS,IAH7B,mBAG3BqI,EAH2B,KAGTC,EAHS,KAQ5BC,EAAc1F,uBAAY,WAC9B,MACE,4BAA6B7G,QAAU,uBAAwBA,SAEhE,IAEGwM,EAAgB3F,sBAAW,sBAAC,sBAAA1F,EAAA,yDAC3B7B,EAAQ1F,WADmB,0CAEvB,GAFuB,cAKhC0I,QAAQC,IAAI,gBAAiBjD,EAAQ1F,YAEnC,iEAP8B,SAQnBoG,OAAOyM,QADlB,kEAP8B,mFAS/B,CAACnN,EAAQ1F,aAQN8S,EAAO7F,uBAAY,SAAC8F,GACxB,OAAOA,EAAKhR,KAAOgR,EAAKhR,OAASiR,EAAeD,KAC/C,IAEGE,EAAWhG,sBAAW,uCAC1B,WAAO8F,EAAM3S,GAAb,eAAAmH,EAAA,2EAEI7B,EAFJ,SAEkCoN,EAAKC,GAFvC,wBAEY1S,gBAFZ,gBAGIqF,EAAQjF,cAAcL,GAAc2S,EAAK5S,MACzCuF,EAAQnF,kBAAiB,GAJ7B,kDAMU2S,EANV,mCAM4CxN,EAAQ5F,WAChD4I,QAAQkF,MAAMsF,EAAd,MAEAC,MAAMD,GATV,0DAD0B,wDAa1B,CAACxN,EAASoN,IASNM,EAAWnG,sBAAW,uCAC1B,WAAOyC,GAAP,qBAAAnI,EAAA,sEACcqL,IADd,qEAKOD,IALP,iCAMuBU,IANvB,YAMUN,EANV,0CAQYE,EAASF,GARrB,qEAeuBO,IAfvB,eAeIlT,EAfJ,iBAgBuBA,EAAWmT,UAhBlC,eAgBUR,EAhBV,iBAiBUE,EAASF,EAAM3S,GAjBzB,2DAmBU8S,EAAM,+CACZxK,QAAQkF,MAAMsF,EAAd,MACAC,MAAMD,GArBV,2DAD0B,sDAyB1B,CAACD,EAAUL,EAAeD,IAGtBa,EAAYvG,sBAAW,uCAC3B,WAAO7M,EAAYqT,GAAnB,iBAAAlM,EAAA,0DACMnH,EAAWsT,aADjB,gCAEyBtT,EAAWsT,eAFpC,cAEUC,EAFV,gBAGUA,EAAOC,MAAM,EAAGH,GAH1B,uBAIUE,EAAOE,QAJjB,yDAQyBzT,EAAW0T,iBARpC,eAQQC,EARR,iBASQA,EAASH,MAAMH,GATvB,yBAUQM,EAASF,QAVjB,QAaEG,YAAW,WACTtO,EAAQrF,gBAAgBoT,EAAU,aAClC/N,EAAQnF,kBAAiB,KACxB,KAhBL,4CAD2B,wDAmB3B,CAACmF,IAGGuO,EAAchH,uBAAY,SAACiH,EAAUT,GACzC,IAAMU,EAAY9R,SAASC,eAAe,aAC1C4R,EAAWA,GAAY,eACvB,IACMnB,EAAO,IAAIqB,KAAK,CAACX,GAAW,GADrB,CAAEpS,KAAM,eAErB8S,EAAUlR,KAAOmD,OAAO+J,IAAIkE,gBAAgBtB,GAC5CoB,EAAUG,aAAa,WAAYJ,GACnCC,EAAUI,UACT,IA2DGC,EAAavH,sBAAW,sBAAC,gCAAA1F,EAAA,yDACxBoL,IADwB,uBAE3BsB,EAAYvO,EAAQvF,KAAMuF,EAAQ5F,WAFP,mDAQR2U,IARQ,OAQ3BrU,EAR2B,8DAUrB8S,EAAM,+CACZxK,QAAQkF,MAAMsF,EAAd,MAX2B,kBAYpBC,MAAMD,IAZc,mCAgBrBM,EAAUpT,EAAYsF,EAAQ5F,WAhBT,QAiB3B4F,EAAQjF,cAAcL,GACtBsF,EAAQnF,kBAAiB,GAlBE,mDAoBrB2S,EAAM,gDACZxK,QAAQkF,MAAMsF,EAAd,MACAC,MAAMD,GAtBqB,iEAwB5B,CAACe,EAAatB,EAAajN,EAAS8N,IAEjCkB,EAAUzH,sBAAW,sBAAC,4BAAA1F,EAAA,sEACNoK,KADM,QACpBQ,EADoB,SAGxBzM,EAAQrF,gBAAgB0H,KAAKC,UAAUmK,EAAO,KAAM,MAAO,aAHnC,2CAKzB,CAACzM,IAEEiP,EAAW1H,sBAAW,sBAAC,4BAAA1F,EAAA,kEAEpB7B,EAAQtF,WAFY,gCAGVoU,IAHU,+DAKnBhB,EAAU9N,EAAQtF,WAAYsF,EAAQ5F,WALnB,uDAOnBoT,EAAM,gDACZxK,QAAQkF,MAAMsF,EAAd,MACAC,MAAMD,GATmB,yDAW1B,CAACxN,EAAS8O,EAAYhB,IAKnBH,EAAY,uCAAG,sBAAA9L,EAAA,+EACZ,IAAIqN,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAY1S,SAASC,eAAe,aAC1CyS,EAAUC,SAAW,SAACjP,GACpB,IAAMgN,EAAOgC,EAAUE,MAAM,GAC7B,OAAIlC,EACK8B,EAAQ9B,GAEV+B,EAAO,IAAII,MAAM,gBAE1BH,EAAUR,YAVO,2CAAH,qDAkBZjB,EAAgB,WASpB,MAAI,uBAAwBlN,OACnBA,OAAO+O,mBATH,CACXC,MAAO,CACL,CACE3M,YAAa,oBACb4M,OAAQ,CAAE,sBAAuB,CAAC,UAAW,cAKVxS,MAAK,SAACyS,GAAD,OAAaA,EAAQ,MAE5DlP,OAAOmP,2BAGVd,EAAgB,uCAAG,8BAAAlN,EAAA,2DAEnB,uBAAwBnB,QAFL,uBAGfoP,EAAO,CACXJ,MAAO,CACL,CACE3M,YAAa,oBACb4M,OAAQ,CAAE,sBAAuB,CAAC,UAAW,aAP9B,SAYRjP,OAAOqP,mBAAmBD,GAZlB,sDAgBjBA,EAAO,CACXnU,KAAM,YACNqU,QAAS,CACP,CACEjN,YAAa,oBACbkN,WAAY,CAAC,UAAW,SACxBC,UAAW,CAAC,0BAtBK,SA2BVxP,OAAOmP,wBAAwBC,GA3BrB,mFAAH,qDA8BhBxC,EAAiB,SAACD,GACtB,OAAO,IAAI6B,SAAQ,SAACC,GAClB,IAAMgB,EAAS,IAAIC,WACnBD,EAAOE,iBAAiB,WAAW,SAAClN,GAClC,IAAM9G,EAAO8G,EAAMmN,WAAWnM,OAC9B,OAAOgL,EAAQ9S,MAEjB8T,EAAOI,WAAWlD,OA0FtB,OA1DAmD,qBAAU,WACR,GAAI9P,OAAO+P,SAASC,OAAOnL,QAAQ,OAAS,EAAG,CAC7C,IACM3K,EADM,IAAI6P,IAAI/J,OAAO+P,SAASlT,MACrBoT,aAAaC,IAAI,MAC1BC,EAAWxO,KAAK4C,MAAMrK,GAC5BoF,EAAQrF,gBAAgB0H,KAAKC,UAAUuO,EAAU,KAAM,OAIxD,IAEHL,qBAAU,WACR,IAAMM,EAAkB,SAACzQ,IAEpBK,OAAOqQ,UAAUC,SAASC,MAAM,OAAS5Q,EAAE6Q,QAAU7Q,EAAE8Q,UAC9C,MAAV9Q,EAAEtC,MAEFsC,EAAE+Q,iBACF/Q,EAAEgR,kBACFpC,MAGCvO,OAAOqQ,UAAUC,SAASC,MAAM,OAAS5Q,EAAE6Q,QAAU7Q,EAAE8Q,UAC9C,MAAV9Q,EAAEtC,MAEFsC,EAAE+Q,iBACF/Q,EAAEgR,kBACF3D,MAGChN,OAAOqQ,UAAUC,SAASC,MAAM,OAAS5Q,EAAE6Q,QAAU7Q,EAAE8Q,UAC9C,MAAV9Q,EAAEtC,MAEFsC,EAAE+Q,iBACF/Q,EAAEgR,kBACFrC,MAiBJ,OAZArS,SAAS0T,iBAAiB,UAAWS,GAAiB,GACtDpQ,OAAO4Q,eAAiB,SAAUnO,GAChC,IAAIiF,EACF,+DAOF,MANoB,oBAATjF,IACTA,EAAQzC,OAAOyC,OAEbA,IACFA,EAAMoO,YAAcnJ,GAEfA,GAEF,WAELzL,SAAS6U,oBAAoB,UAAWV,GAAiB,MAE1D,CAACpD,EAAUuB,EAAUD,EAAShP,IAG/B,oCACE,4BAAQG,UAAU,sDAChB,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,YAAYsR,IAAKC,KAAKC,IAAI,QACzC,yBAAKxR,UAAU,QACf,yBAAKA,UAAU,WAAWsR,IAAKG,KAAMD,IAAI,UAE3C,yBAAKxR,UAAU,uBACb,kBAACyL,GAAD,CAAQxL,QA/FQ,WACtB,IAAM6E,EAAQ5C,KAAK4C,MAAMjF,EAAQ5F,WAC3ByX,EAAS,UAAMnR,OAAO+P,SAASlT,KAAtB,eAAiCuU,UAC9CzP,KAAKC,UAAU2C,KAEjB8L,UAAUgB,UAAUC,UAAUH,GAAW1U,MACvC,WACE6F,QAAQC,IAAI,kDAEd,SAAUgP,GACRjP,QAAQkF,MAAM,+BAAgC+J,MAGlDrW,IAAK6G,KAAK,CACRzG,MAAO,YACPkB,MAAO,OACPgV,WAAY,wCACZC,WAAYN,EACZO,iBAAiB,IAChBjV,MAAK,SAACT,GACPsG,QAAQC,IAAIvG,MAEd4R,YAAW,WACS3R,SAASC,eAAe,eAChCyV,WACT,OAsEG,oBACA,kBAACzG,GAAD,CAAQxL,QAAS4O,GAAjB,aACA,kBAACpD,GAAD,CAAQxL,QAASsN,GAAjB,cACA,kBAAC9B,GAAD,CAAQxL,QAAS6O,GAAjB,QACA,kBAACrD,GAAD,CAAQxL,QAAS0O,GAAjB,WACC9O,EAAQzF,cAAgB,kBAACqR,GAAD,CAAQxL,QAxRpB,WACnB,IAIE,IAHA,IACE+D,EADEmO,EAAQ,OAEVC,EAAgB,GACVpO,EAASmO,EAAME,KAAKxS,EAAQ5F,YAClCmY,EAAc9T,KAAK0F,EAAOwB,OAE5B2M,EAAQ,OAER,IADA,IAAIG,EAAa,GACTtO,EAASmO,EAAME,KAAKxS,EAAQ5F,YAClCqY,EAAWhU,KAAK0F,EAAOwB,OAGzB,IADA,IAAI+M,EAAe,GACVtU,EAAI,EAAGA,EAAImU,EAAclU,OAAQD,IACxCsU,EAAajU,KACXuB,EAAQ5F,UAAUuY,MAAMJ,EAAcnU,GAAK,EAAGqU,EAAWrU,KAI7D,IAAMwU,GADNF,EAAY,aAAO,IAAIG,IAAIH,KACcjW,KAAI,SAACqW,GAC5C,OACE,yBAAK/U,IAAK+U,EAAQ3S,UAAU,QAC1B,2BAAO4S,QAASD,EAAQ3S,UAAU,0CAC/B2S,EADH,KAGA,2BACEnX,KAAK,OACLlB,KAAMqY,EACNvK,GAAIuK,EACJ3S,UAAU,iFACVsB,YAAY,yBAKpBuL,EAAoB4F,GACpB9F,GAAa,GACb,MAAOzM,OAkPsB,iBAE1BwM,EACC,yBAAK1M,UAAU,kHACb,yBAAKA,UAAU,uFACb,yBAAKA,UAAU,8CACb,wBAAIA,UAAU,oCAAd,wBAEF,wBAAIA,UAAU,2BAAd,0DACA,yBAAKA,UAAU,qBACZ4M,GAEH,yBAAK5M,UAAU,6BACb,4BAAQA,UAAU,6CAA6CC,QAAS,kBAAM0M,GAAa,KAA3F,UACA,4BAAQ3M,UAAU,6CAA6CC,QAAS,kBA7PnE,WACjB,IAAI4S,EAAgB,GACpBjG,EAAiBvH,SAAQ,SAACxI,GACxB,IAAMiW,EAAOtW,SAASC,eAAeI,EAAEe,KAEvC,OADAiV,EAAchW,EAAEe,KAAOkV,EAAKnW,MACrBmW,EAAKnW,SAEd,IAAIoW,EAAalT,EAAQ5F,UACzByD,OAAOmE,KAAKgR,GAAexN,SAAQ,SAAAzH,GACjCmV,EAAaA,EAAWC,MAAX,YAAsBpV,EAAtB,OAA+BqV,KAAKJ,EAAcjV,OAEjE,IAAMkH,EAAQ5C,KAAK4C,MAAMiO,GACnBrB,EAAS,UAAMnR,OAAO+P,SAASlT,KAAtB,eAAiCuU,UAAUzP,KAAKC,UAAU2C,KACzEvE,OAAOC,KAAKkR,EAAW,UAgPmEwB,KAA9E,kBAIJ,MAEN,2BACElT,UAAU,MACVxE,KAAK,OACL4M,GAAG,YACH+K,MAAO,CAAEC,QAAS,UAEpB,uBAAGpT,UAAU,MAAMoI,GAAG,YAAYhL,KAAK,IAAI+V,MAAO,CAAEC,QAAS,SAA7D,aCpZSC,OAvCG,SAACvU,GACf,IA8BoBwU,EA9BdzT,EAAUC,qBAAWC,GACvBwT,EAAY,EACZC,EAAkB,EAClBC,EAAe,EACfC,EAAc,EAClB,IACI,IAAM5O,EAAQ5C,KAAK4C,MAAMjF,EAAQ5F,WAC3BkG,GAAO,IAAIwT,aAAcC,OAAO1R,KAAKC,UAAU2C,IAAQ5G,OAC7DqV,GAsBgBD,EAtBWnT,GAuBpB,KAAamT,EAAQ,SACxBA,EAAQ,SAAgBA,EAAQ,MAAMO,QAAQ,GAAK,OACnDP,EAAQ,YAAmBA,EAAQ,SAASO,QAAQ,GAAK,QACrDP,EAAQ,YAAYO,QAAQ,GAAK,OAzBzCL,EAAkB1O,EAAMS,WAAa7H,OAAOmE,KAAKiD,EAAMS,YAAYrH,OAAS,EAC5EuV,EAAe3O,EAAMS,WAAa7H,OAAOmE,KAAKiD,EAAMW,SAASvH,OAAS,EACtEwV,EAAc5O,EAAMS,WAAa7H,OAAOmE,KAAKiD,EAAMY,QAAQxH,OAAS,EAExE,MAAOgC,IAGP,OAAQ,oCACJ,4BAAQF,UAAU,wEACd,yBAAKA,UAAU,mDACX,yBAAKA,UAAU,QAAf,eAAmCwT,GACnC,yBAAKxT,UAAU,QAAf,YAAgCyT,GAChC,yBAAKzT,UAAU,QAAf,WAA+B0T,GAC/B,yBAAK1T,UAAU,kBAAf,SAAuCuT,GACvC,yBAAKvT,UAAU,yBAAf,YAAiD8T,QAAjD,MAA8F,2BAAG,uBAAG1W,KAAK,qCAAqCuI,OAAO,SAASoO,IAAI,uBAAjE,0BCfpGC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAuB,uBACvBC,GAAkB,kBAClBC,GAAsB,sBACtBC,GAAyB,yBACzBC,GAAuB,uBACvBC,GAAsB,sBACtBC,GAA+B,+BAkGtCC,GAAiB,SAAC7J,EAAO9I,GAC7B,OAAQA,EAAOtG,MACb,KAAKwY,GACH,OAnGyB,SAAC/Z,EAAW2Q,GACzC,OAAO,2BAAKA,GAAZ,IAAmB3Q,YAAWE,YAAY,IAkG/Bua,CAAuB5S,EAAO7H,UAAW2Q,GAClD,KAAKqJ,GACH,OAjBmB,SAAC9Z,EAAYyQ,GACpC,OAAO,2BAAKA,GAAZ,IAAmBzQ,WAAYA,IAgBpBO,CAAiBoH,EAAO3H,WAAYyQ,GAC7C,KAAKsJ,GACH,OAfqB,SAAC9Z,EAAcwQ,GACxC,OAAO,2BAAKA,GAAZ,IAAmBxQ,aAAcA,IActBO,CAAmBmH,EAAO1H,aAAcwQ,GACjD,KAAKuJ,GAEH,OAd0B,SAAC5Z,EAAYqQ,GAC3C,OAAO,2BAAKA,GAAZ,IAAmBrQ,WAAYA,IAYVoa,CAAwB7S,EAAOvH,WAAYqQ,GAE9D,KAAKwJ,GACH,OAxGoB,SAACrZ,EAAM6P,GAC/B,IAAI3Q,EAAYiI,KAAK4C,MAAM8F,EAAM3Q,WAEjC,GADA4I,QAAQC,IAAI/H,GACM,UAAdA,EAAKS,KACPvB,EAAU8D,MAAMsH,SAAQ,SAAC3G,EAAST,GACJ,kBAAhBS,EAAQ5B,GAChB7C,EAAU8D,MAAMoM,OAAOlM,EAAG,IAExBS,EAAQtB,OAASrC,EAAKA,KAAKqC,OAA8C,IAAtCsB,EAAQ5B,GAAGsI,QAAQrK,EAAKA,KAAK+B,KAClE4B,EAAQ5B,GAAGqN,OAAOzL,EAAQ5B,GAAGsI,QAAQrK,EAAKA,KAAK+B,IAAK,GAE5B,IAAtB4B,EAAQ5B,GAAGoB,QACbjE,EAAU8D,MAAMoM,OAAOlM,EAAG,YAKhC,IACEhE,EAAUc,EAAKS,MAAMT,EAAKkE,UAAUlB,MAAMsH,SAAQ,SAAC3G,EAAST,GAC9B,kBAAhBS,EAAQ5B,GACd4B,EAAQtB,OAASrC,EAAKA,KAAKqC,MAC7BnD,EAAUc,EAAKS,MAAMT,EAAKkE,UAAUlB,MAAMoM,OAAOlM,EAAG,IAGlDS,EAAQtB,OAASrC,EAAKA,KAAKqC,OAA8C,IAAtCsB,EAAQ5B,GAAGsI,QAAQrK,EAAKA,KAAK+B,KAClE4B,EAAQ5B,GAAGqN,OAAOzL,EAAQ5B,GAAGsI,QAAQrK,EAAKA,KAAK+B,IAAK,GAE5B,IAAtB4B,EAAQ5B,GAAGoB,QACbjE,EAAUc,EAAKS,MAAMT,EAAKkE,UAAUlB,MAAMoM,OAAOlM,EAAG,OAI1D,MAAOiC,GACPoN,MAAM,4CAGV,OAAO,2BAAK1C,GAAZ,IAAmB3Q,UAAWiI,KAAKC,UAAUlI,EAAW,KAAM,KAoEnD2a,CAAkB9S,EAAO/G,KAAM6P,GACxC,KAAK4J,GACH,OAnE0B,SAACnZ,EAAMwZ,EAAgBjK,GACrD,IAAI3Q,EAAYiI,KAAK4C,MAAM8F,EAAM3Q,WACjC,WACSA,EAAUoB,GAAMwZ,GACvB,MAAO3U,GACPoN,MAAM,4CAER,OAAO,2BAAK1C,GAAZ,IAAmB3Q,UAAWiI,KAAKC,UAAUlI,EAAW,KAAM,KA4DnDmB,CAAwB0G,EAAOzG,KAAMyG,EAAO+S,eAAgBjK,GACrE,KAAKyJ,GACH,OA3DyB,SAACtZ,EAAM6P,GACpC,IAAI3Q,EAAYiI,KAAK4C,MAAM8F,EAAM3Q,WAC3BmJ,EAAWnJ,EAAUsL,WAAWxK,EAAKkE,UAK3C,YAJuB5E,IAAnB+I,EAASrF,QACXqF,EAASrF,MAAQ,IAEnBqF,EAASrF,MAAMO,KAAKvD,EAAKA,MAClB,2BAAK6P,GAAZ,IAAmB3Q,UAAWiI,KAAKC,UAAUlI,EAAW,KAAM,KAoDnD6a,CAAuBhT,EAAO/G,KAAM6P,GAC7C,KAAK0J,GACH,OAnDuB,SAACpZ,EAAQ0P,GACpC,IAAI3Q,EAAYiI,KAAK4C,MAAM8F,EAAM3Q,WAC3B6H,EAAS7H,EAAUwL,QAAQvK,EAAO8G,YAMxC,OALAa,QAAQC,IAAI,cAAehB,EAAO/D,YACb1D,IAAjByH,EAAO/D,QACT+D,EAAO/D,MAAQ,IAEjB+D,EAAO/D,MAAMO,KAAKpD,EAAOH,MAClB,2BAAK6P,GAAZ,IAAmB3Q,UAAWiI,KAAKC,UAAUlI,EAAW,KAAM,KA2CnD8a,CAAqBjT,EAAO5G,OAAQ0P,GAC7C,KAAK2J,GACH,OA1CsB,SAACrZ,EAAQ0P,GACnC,IAAI3Q,EAAYiI,KAAK4C,MAAM8F,EAAM3Q,WAC3B+I,EAAQ/I,EAAUyL,OAAOxK,EAAO+H,WAKtC,YAJoB5I,IAAhB2I,EAAMjF,QACRiF,EAAMjF,MAAQ,IAEhBiF,EAAMjF,MAAMO,KAAKpD,EAAOH,MACjB,2BAAK6P,GAAZ,IAAmB3Q,UAAWiI,KAAKC,UAAUlI,EAAW,KAAM,KAmCnD+a,CAAoBlT,EAAO5G,OAAQ0P,GAC5C,QACE,OAAOA,IC5DEqK,GA9DK,SAAAnW,GAAU,IAAD,EACMoW,qBAAWT,GAAgB,CAAExa,UAAW,GAAIC,MAAO,SADzD,mBACpBib,EADoB,KACNC,EADM,KAqC3B,OACE,kBAAC,EAAeC,SAAhB,CACE1Y,MAAO,CACL1C,UAAWkb,EAAalb,UACxBC,MAAOib,EAAajb,MACpBC,WAAYgb,EAAahb,WACzBC,aAAc+a,EAAa/a,aAC3BE,KAAM6a,EAAa7a,KACnBC,WAAY4a,EAAa5a,WACzBC,gBA3CkB,SAACP,EAAW6E,GAClCsW,EAAS,CAAE5Z,KAAMwY,GAAmB/Z,UAAWA,KA2C3CS,iBAxCmB,SAAAP,GACvBib,EAAS,CAAE5Z,KAAMyY,GAAmB9Z,WAAYA,KAwC5CQ,mBArCqB,SAAAP,GACzBgb,EAAS,CAAE5Z,KAAM0Y,GAAsB9Z,aAAcA,KAqCjDQ,cAlCgB,SAAAL,GACpB6a,EAAS,CAAE5Z,KAAM2Y,GAAiB5Z,WAAYA,KAkC1CO,WA/Ba,SAAAC,GACjBqa,EAAS,CAAE5Z,KAAM4Y,GAAqBrZ,KAAMA,KA+BxCC,QA5BU,SAAAD,GACdqa,EAAS,CAAE5Z,KAAM6Y,GAAwBtZ,KAAMA,KA4B3CE,cAzBgB,SAAAC,GACpBka,EAAS,CAAE5Z,KAAM8Y,GAAsBpZ,OAAQA,KAyB3CC,aAvBe,SAAAD,GACnBka,EAAS,CAAE5Z,KAAM+Y,GAAqBrZ,OAAQA,KAuB1CE,wBArB0B,SAACC,EAAMwZ,GACrCO,EAAS,CAAE5Z,KAAMgZ,GAA8BnZ,OAAMwZ,sBAuBlD/V,EAAMwB,WC5BPgV,GAAc,SAAC5W,EAAS6W,GAC1B,IAAIC,EACEC,EAAQjZ,SAASC,eAAe,SAChCiZ,EAASlZ,SAASC,eAAe,UAEjCkZ,EAAc,SAACzV,GACjB,IAAI0V,EAAQ,CACRrZ,EAAG2D,EAAE2V,QAAUL,EAAGtV,EAAE2V,QACpBhZ,EAAGqD,EAAE4V,QAAUN,EAAGtV,EAAE4V,SAGN,MAAdP,IACAK,EAAMrZ,EAAIwZ,KAAKC,IAAID,KAAKE,IAAIL,EAAMrZ,GAAIiZ,EAAGU,YACrCV,EAAGW,aAEPzX,EAAQyU,MAAMiD,KAAOZ,EAAGa,WAAaT,EAAMrZ,EAAI,KAC/CkZ,EAAMtC,MAAM5M,MAASiP,EAAGU,WAAaN,EAAMrZ,EAAK,KAChDmZ,EAAOvC,MAAM5M,MAASiP,EAAGW,YAAcP,EAAMrZ,EAAK,OAkB1DmC,EAAQ4X,YAdY,SAACpW,GACjBsV,EAAK,CACDtV,IACAmW,WAAY3X,EAAQ2X,WACpBE,UAAW7X,EAAQ6X,UACnBL,WAAYT,EAAMe,YAClBL,YAAaT,EAAOc,aAExBha,SAASia,YAAcd,EACvBnZ,SAASka,UAAY,WACjBla,SAASia,YAAcja,SAASka,UAAY,QAOzCC,GA/DH,SAAC7X,GAET,OADAuR,qBAAU,WAAQiF,GAAY9Y,SAASC,eAAe,aAAc,OAAS,CAACqC,IAE1E,kBAAC,GAAD,KACI,0BAAMkB,UAAU,iCACZ,kBAACyM,GAAD,MACA,yBAAKzM,UAAU,yDACX,yBAAKA,UAAU,SAASoI,GAAG,SAAQ,kBAAC,GAAD,OACnC,yBAAKA,GAAG,cACR,yBAAKpI,UAAU,SAASoI,GAAG,UAAS,kBAACJ,GAAD,QAExC,kBAAC,GAAD,SCTV4O,GAAcC,QACW,cAA7BtW,OAAO+P,SAASwG,UAEe,UAA7BvW,OAAO+P,SAASwG,UAEhBvW,OAAO+P,SAASwG,SAAShG,MACvB,2DAsCN,SAASiG,GAAgBC,EAAOC,GAC9BrG,UAAUsG,cACPC,SAASH,GACTha,MAAK,SAAAoa,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB1M,QACfgG,UAAUsG,cAAcO,YAI1B5U,QAAQC,IACN,iHAKEmU,GAAUA,EAAOS,UACnBT,EAAOS,SAASN,KAMlBvU,QAAQC,IAAI,sCAGRmU,GAAUA,EAAOU,WACnBV,EAAOU,UAAUP,WAO5BQ,OAAM,SAAA7P,GACLlF,QAAQkF,MAAM,4CAA6CA,MCzFjE8P,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFvb,SAASC,eAAe,SDWnB,SAAkBwa,GACvB,GAA6C,kBAAmBrG,UAAW,CAGzE,GADkB,IAAItG,IAAIwJ,WAAwBvT,OAAO+P,SAASlT,MACpD4a,SAAWzX,OAAO+P,SAAS0H,OAIvC,OAGFzX,OAAO2P,iBAAiB,QAAQ,WAC9B,IAAM8G,EAAK,UAAMlD,WAAN,sBAEP8C,KAgEV,SAAiCI,EAAOC,GAEtC1M,MAAMyM,EAAO,CACXiB,QAAS,CAAE,iBAAkB,YAE5Bjb,MAAK,SAAAkb,GAEJ,IAAMC,EAAcD,EAASD,QAAQxH,IAAI,gBAEnB,MAApByH,EAASE,QACO,MAAfD,IAA8D,IAAvCA,EAAY/S,QAAQ,cAG5CwL,UAAUsG,cAAcmB,MAAMrb,MAAK,SAAAoa,GACjCA,EAAakB,aAAatb,MAAK,WAC7BuD,OAAO+P,SAASiI,eAKpBxB,GAAgBC,EAAOC,MAG1BW,OAAM,WACL/U,QAAQC,IACN,oEAvFA0V,CAAwBxB,EAAOC,GAI/BrG,UAAUsG,cAAcmB,MAAMrb,MAAK,WACjC6F,QAAQC,IACN,iHAMJiU,GAAgBC,EAAOC,OC/B/BC,K","file":"static/js/main.f880d79b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/editdor.6cac600d.png\";","module.exports = __webpack_public_path__ + \"static/media/WoT.89768410.png\";","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\n\nexport default React.createContext({\n  offlineTD: '',\n  theme: 'dark',\n  isModified: false,\n  isThingModel: undefined,\n  name: '',\n  fileHandle:'',\n  updateOfflineTD: td => {},\n  updateIsModified: isModified => {},\n  updateIsThingModel: isThingModel => {},\n  setFileHandle: handle => {},\n  removeForm: form => {},\n  addForm: form => {},\n  addActionForm: params => {},\n  addEventForm: params => {},\n  removeOneOfAKindReducer: (kind, oneOfAKind) => {}\n});","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst operationsSelections = (type) => {\n    switch (type) {\n        case 'properties':\n            return `<div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"writeproperty\" id=\"checkbox1\">\n                        <label class=\"form-check-label\" for=\"checkbox1\">\n                        writeproperty\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"readproperty\" id=\"checkbox2\">\n                        <label class=\"form-check-label\" for=\"checkbox2\">\n                        readproperty\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"observeproperty\" id=\"checkbox3\">\n                        <label class=\"form-check-label\" for=\"checkbox3\">\n                        observeproperty\n                    </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"unobserveproperty\" id=\"checkbox4\">\n                        <label class=\"form-check-label\" for=\"checkbox4\">\n                        unobserveproperty\n                        </label>\n                    </div>`;\n        case 'events':\n            return `<div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"subscribeevent\" id=\"checkbox1\">\n                        <label class=\"form-check-label\" for=\"checkbox1\">\n                        subscribeevent\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"unsubscribeevent\" id=\"checkbox2\">\n                        <label class=\"form-check-label\" for=\"checkbox2\">\n                        unsubscribeevent\n                        </label>\n                    </div>`;\n        case 'forms':\n            return `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"writeallproperties\" id=\"checkbox1\">\n                                    <label class=\"form-check-label\" for=\"checkbox1\">\n                                    writeallproperties\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"readallproperties\" id=\"checkbox2\">\n                                    <label class=\"form-check-label\" for=\"checkbox2\">\n                                    readallproperties\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"writemultipleproperties\" id=\"checkbox3\">\n                                    <label class=\"form-check-label\" for=\"checkbox3\">\n                                    writemultipleproperties\n                                </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"readmultipleproperties\" id=\"checkbox4\">\n                                    <label class=\"form-check-label\" for=\"checkbox4\">\n                                    readmultipleproperties\n                                    </label>\n                                </div>`;\n        default:\n            return ''\n    }\n\n\n};\n\nexport default operationsSelections;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addGlobalForm = () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('forms'),\n            preConfirm: () => {\n                const operations = ['1', '2', '3', '4'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                form.op = operations\n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Form is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n            form.href =  propValue[1]\n            return form\n        }\n        return\n    })\n}\n\nexport default addGlobalForm;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n/**\n * \n * @param {*} firstAttribute \n * @param {*} object \n * @param {*} dontRender is a list of keys that shouldn't be packed into the attribute list.\n * \n * @description\n * Parses all key-value pairs of an object into an object'. \n */\nexport const buildAttributeListObject = (firstAttribute, object, dontRender) => {\n    let attributeListObject = { ...firstAttribute }\n\n    for (const [key, value] of Object.entries(object)) {\n        if (!dontRender.includes(key)) {\n            attributeListObject[key] = value\n        }\n    }\n\n    return attributeListObject;\n}\n\n/**\n * \n * @param {*} forms \n * \n * @description\n * Converts Forms that have an array as the \"op\" value into multiple separate Forms \n * which only have a string as \"op\" value.\n */\nexport const separateForms = (forms) => {\n    if (forms === undefined && !forms) {\n        return []\n    }\n\n    const newForms = [];\n\n    for (let i = 0; i < forms.length; i++) {\n        const form = forms[i];\n\n        if (!Array.isArray(form.op)) {\n            newForms.push(form);\n            continue;\n        }\n\n        for (let i = 0; i < form.op.length; i++) {\n            const temp = { ...form };\n            temp.op = form.op[i];\n            newForms.push(temp);\n        }\n    }\n\n    return newForms;\n}\n\n\n\n/**\n * \n * @param {itemToCheck} itemToCheck \n * \n * Checks if item contains Forms\n * \n */\nexport const hasForms = (itemToCheck) => {\n    return itemToCheck.forms ? true : false;\n}\n\nexport const checkIfFormIsInItem = (form, itemToCheck) => {\n    for (const element of itemToCheck.forms) {\n        if (typeof (form.op) === \"string\") {\n            return checkIfFormIsInElement(form, element)\n        } else {\n            for (const x of form.op) {\n                if (typeof (element.op) === 'string') {\n                    if (element.op === x) {\n                        return true;\n                    }\n                } else {\n                    if (element.op.includes(x)) {\n                        let deepCompare = true;\n                        for (const y in form) {\n                            if (y !== 'op') {\n                                if (element[y] !== form[y]) {\n                                    deepCompare = false;\n                                }\n                            }\n                        }\n                        if (deepCompare)\n                            return true\n                    }\n                }\n            }\n        }\n    }\n    return false\n}\n\nconst checkIfFormIsInElement = (form, element) => {\n    if (typeof (element.op) === 'string') {\n        if (element.op === form.op) {\n            return true;\n        }\n    } else {\n        if (element.op.includes(form.op)) {\n            let deepCompare = true;\n            for (const y in form) {\n                if (y !== 'op') {\n                    if (element[y] !== form[y]) {\n                        deepCompare = false;\n                    }\n                }\n            }\n            if (deepCompare)\n                return true\n        }\n    }\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { Trash2 } from \"react-feather\";\n\nexport default function Form(props) {\n\n    const formChooser = {\n        \"observeproperty\": <ObserveForm type=\"properties\" form={props.form} propName={props.propName} />,\n        \"unobserveproperty\": <UnobserveForm type=\"properties\" form={props.form} propName={props.propName} />,\n        \"readproperty\": <ReadForm type=\"properties\" form={props.form} propName={props.propName} />,\n        \"readmultipleproperties\": <ReadMultipleForm type=\"forms\" form={props.form} formIndex={props.propName} />,\n        \"readallproperties\": <ReadAllForm type=\"forms\" form={props.form} formIndex={props.propName} />,\n        \"writeproperty\": <WriteForm type=\"properties\" form={props.form} propName={props.propName} />,\n        \"writemultipleproperties\": <WriteMultipleForm type=\"forms\" form={props.form} formIndex={props.propName} />,\n        \"writeallproperties\": <WriteAllForm type=\"forms\" form={props.form} formIndex={props.propName} />,\n        \"invokeaction\": <InvokeForm type=\"actions\" form={props.form} propName={props.propName} />,\n        \"unsubscribeevent\": <UnobserveForm type=\"events\" form={props.form} propName={props.propName} />,\n    }\n\n    if (formChooser[props.form.op]) {\n        return formChooser[props.form.op];\n    }\n\n    if (props.interactionType === \"action\") {\n        return <InvokeForm type=\"actions\" form={props.form} propName={props.propName} />\n    } else if (props.interactionType === \"event\") {\n        return <ObserveForm type=\"events\" form={props.form} propName={props.propName} />\n    }\n\n    return <UndefinedForm form={props.form} propName={props.propName} />\n}\n\nexport function ObserveForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formOrange place-self-center text-center text-xs px-4\">Observe</div>\n            </div>\n            <div className=\"place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function UnobserveForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formRed place-self-center text-center text-xs px-4\">Unobserve</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function ReadForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">Read</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function ReadMultipleForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">ReadMultiple</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function ReadAllForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">ReadAll</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function WriteForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">Write</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function WriteMultipleForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">WriteMultiple</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function WriteAllForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">WriteAll</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function InvokeForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formRed place-self-center text-center text-xs px-4\">Invoke</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}\n\nexport function UndefinedForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-gray-300 rounded-md px-4 mt-2 bg-opacity-75 border-2 border-gray-300\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"place-self-center text-center text-xs px-4\">Undefined</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-white\" onClick={() => deleteForm(props)}>\n                <Trash2 size={16} color=\"black\" />\n            </button>\n        </div>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\nimport { Info } from 'react-feather';\nimport ReactTooltip from 'react-tooltip';\n\n/**\n * Display an info icon that shows a information text when hovered\n * next to the child.\n *\n * The parameter tooltip a TooltipContent object containing HTML on how\n * the tooltip is rendered and a link that gets called onClick.\n * @param {TooltipContent} tooltip\n * @param {Object} children\n */\nexport const InfoIconWrapper = (props) => {\n    return (\n        <div className=\"flex flex-row items-center\">\n            <div className=\"pr-0.5\">\n                {props.children}\n            </div>\n            <button onClick={() => window.open(props.tooltip.href, \"_blank\")}>\n                <InfoIcon html={props.tooltip.html} />\n            </button>\n            <div className=\"p-1\"></div>\n        </div >\n    );\n}\n\n/**\n * Display an info icon that shows a information text when hovered.\n * \n * The parameter html is a String containing HTML for the tooltips layout.\n * @param {String} html\n */\nexport const InfoIcon = (props) => {\n    return (\n        <>\n            <Info color=\"grey\"\n                size=\"16\"\n                data-html={true}\n                data-type=\"info\"\n                data-tip={props.html}\n                data-background-color=\"#2c2c2e\"\n            />\n            <ReactTooltip html={true} type=\"info\" />\n        </ >\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nclass TooltipContent {\n    constructor(html, href) {\n        this.html = html;\n        this.href = href;\n    }\n}\n\nexport const getPropertiesTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Properties</h2>\n                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>\n                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>\n                    <br />\n                    <p>Click to get more information about Properties.</p> \n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#propertyaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getActionsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Actions</h2>\n                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>\n                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>\n                    <br />\n                    <p>Click to get more information about Actions.</p>\n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#actionaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getEventsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Events</h2>\n                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>\n                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>\n                <br />\n                <p>Click to get more information about Events.</p>\n            `\n\n    const href = \"https://www.w3.org/TR/wot-thing-description/#eventaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getFormsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Forms</h2>\n                    <p>A Form contains all information needed to make a request to a device.</p>\n                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>\n                    <br />\n                    <p>Click to get more information about Forms.</p>\n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#form\";\n\n    return new TooltipContent(html, href);\n}\n\nexport const tooltipMapper = {\n    \"properties\": getPropertiesTooltipContent(),\n    \"actions\": getActionsTooltipContent(),\n    \"events\": getEventsTooltipContent(),\n    \"forms\": getFormsTooltipContent(),\n};","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from \"react\";\nimport { Search } from \"react-feather\";\n\nexport const SearchBar = (props) => {\n    return (\n        <div className=\"relative text-gray-600\">\n            <input type=\"search\"\n                autoComplete=\"on\"\n                className=\"caret-gray bg-gray-600 text-white px-5 pr-10 place-self-center rounded-lg text-sm focus:outline-none h-9\"\n                onKeyUp={props.onKeyUp}\n                placeholder={props.placeholder}\n                aria-label={props.ariaLabel}\n            />\n            <div disabled type=\"submit\" className=\"cursor-default absolute right-0 top-0 mt-1 mr-4\">\n                <Search color=\"#2c2c2e\"></Search>\n            </div>\n        </div>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst Swal = require('sweetalert2')\n\n\nconst addActionForm = async () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1']\n    }).queue([\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Action is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n             form.href =  propValue[0]\n             form.op = \"invokeaction\"\n            return form\n        }\n        return\n    })\n}\n\nexport default addActionForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addActionForm from \"./AddActionForm\";\nimport Form from \"./Form\";\nimport Swal from 'sweetalert2'\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\nimport { Trash2, PlusCircle } from \"react-feather\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Action(props) {\n    const context = useContext(ediTDorContext);\n\n    if ((Object.keys(props.action).length === 0 && props.action.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Action could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const action = props.action;\n    const forms = separateForms(props.action.forms);\n    const attributeListObject = buildAttributeListObject({ name: props.actionName }, props.action, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(action)) {\n            return checkIfFormIsInItem(form, action)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addActionForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText: 'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText: 'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addActionForm({ actionName: props.actionName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addActionForm({ actionName: props.actionName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeleteActionClicked = () => {\n        context.removeOneOfAKindReducer('actions', props.actionName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5\">\n                <div className=\"flex-grow\">{action.title ?? props.actionName}</div>\n                <button className=\"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400\" onClick={onDeleteActionClicked}>\n                    <Trash2 size={16} color=\"black\" />\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{action.description}</div>\n                <ul className=\"text-base text-gray-300 list-disc pl-8\">{attributes}</ul>\n                <div className=\"flex flex-row items-center \">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button onClick={onClickAddForm}>\n                        <PlusCircle color=\"#cacaca\" size=\"18\" />\n                    </button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} form={form} propName={props.actionName} interactionType={\"action\"}></Form>\n                ))}\n            </div>\n        </details>\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addEventForm = () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Event Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('events'),\n            preConfirm: () => {\n                const operations = ['1', '2'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                console.log('operations', operations)\n                form.op = operations\n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Event is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n            form.href = propValue[1]\n            return form\n            \n        }\n        return\n    })\n}\nexport default addEventForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addEventForm from \"./AddEventForm\";\nimport Form from \"./Form\";\nimport Swal from 'sweetalert2'\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\nimport { Trash2, PlusCircle } from \"react-feather\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Event(props) {\n    const context = useContext(ediTDorContext);\n    if ((Object.keys(props.event).length === 0 && props.event.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Event could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const event = props.event;\n    const forms = separateForms(props.event.forms);\n    const attributeListObject = buildAttributeListObject({ name: props.eventName }, props.event, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(event)) {\n            return checkIfFormIsInItem(form, event)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addEventForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText: 'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText: 'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addEventForm({ eventName: props.eventName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addEventForm({ eventName: props.eventName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeleteEventClicked = () => {\n        context.removeOneOfAKindReducer('events', props.eventName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5\">\n                <div className=\"flex-grow\">{event.title ?? props.eventName}</div>\n                <button className=\"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400\" onClick={onDeleteEventClicked}>\n                    <Trash2 size={16} color=\"black\" />\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{event.description}</div>\n                <ul className=\"text-base text-gray-300 list-disc pl-8\">{attributes}</ul>\n                <div className=\"flex flex-row items-center \">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button onClick={onClickAddForm}>\n                        <PlusCircle color=\"#cacaca\" size=\"18\" />\n                    </button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} form={form} propName={props.eventName} interactionType={\"event\"}></Form>\n                ))}\n            </div>\n        </details>\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\n\nconst addPropertyForm = async () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('properties'),\n            preConfirm: () => {\n                const operations = ['1', '2', '3', '4'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                form.op = operations    \n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Property is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n             form.href =  propValue[1]\n            return form\n        }\n        return\n    })\n}\n\nexport default addPropertyForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport Swal from \"sweetalert2\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addPropertyForm from \"./AddPropertyForm\";\nimport Form from \"./Form\";\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\nimport { Trash2, PlusCircle } from \"react-feather\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Property(props) {\n    const context = useContext(ediTDorContext);\n\n    if ((Object.keys(props.prop).length === 0 && props.prop.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Property could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const property = props.prop;\n    const forms = separateForms(props.prop.forms);\n\n    const attributeListObject = buildAttributeListObject({ name: props.propName }, props.prop, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(property)) {\n            return checkIfFormIsInItem(form, property)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addPropertyForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText: 'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText: 'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addForm({ propName: props.propName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addForm({ propName: props.propName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeletePropertyClicked = () => {\n        context.removeOneOfAKindReducer('properties', props.propName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row w-full justify-start items-center cursor-pointer p-0.5\">\n                <h3 className=\"flex-grow\">{property.title ?? props.propName}</h3>\n                <button className=\"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400\" onClick={onDeletePropertyClicked}>\n                    <Trash2 size={16} color=\"black\" />\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{property.description}</div>\n                <ul className=\"list-disc text-base text-gray-300 pl-8\">{attributes}</ul>\n                <div className=\"flex justify-start items-center pt-2\">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button onClick={onClickAddForm}>\n                        <PlusCircle color=\"#cacaca\" size=\"18\" />\n                    </button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} propName={props.propName} form={form} interactionType={\"property\"} className=\"last:pb-4\"></Form>\n                ))}\n            </div>\n        </details >\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\n\nconst addProperty = async () => {\n    let property = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2', '3']\n    }).queue([\n        {\n            title: 'Propertytitle',\n            text: 'Please enter a name for your new Property'\n        },\n        {\n            title: 'Propertytype',\n            text: 'Please enter a type for your new Property',\n            input: 'select',\n            inputOptions: {\n                number: 'number',\n                integer: 'integer',\n                boolean: 'boolean',\n                string: 'string',\n                object: 'object',\n                array: 'array',\n            },\n            inputPlaceholder: 'Select a type',\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Property?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null,\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[2]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1', '2']\n                }).queue([\n                    {\n                        text: 'Select an Operation or multiple Operations',\n                        html: operationsSelections('properties'),\n                        preConfirm: () => {\n                            const operations = ['1', '2', '3', '4'].map(x => {\n                                return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                            }).filter(y => y !== undefined);\n                            result.value[3] = operations\n                        }\n                    },\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Property is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const propValue = prop.value\n                        const resultValue = result.value\n                        property = {\n                            title: resultValue[0],\n                            type: resultValue[1],\n                            forms: [\n                                {\n                                    op: resultValue[3],\n                                    href: propValue[1]\n                                }\n                            ]\n                        }  \n                        return property \n                    }\n                    return \n                })\n            }\n            const resultValue = result.value\n            if (!result[2]) {\n                property = {\n                    title: resultValue[0],\n                    type: resultValue[1]\n                }\n            }\n            console.log(`Property`, property)\n            return property\n        }\n        return\n    })\n}\n\nexport default addProperty;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst Swal = require('sweetalert2')\n\n\nconst addAction = () => {\n    let action = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            title: 'Actiontitle',\n            text: 'Please enter a name for your new Action'\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Action?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[1]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1']\n                }).queue([\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Action is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const resultValue = result.value\n                        const propValue = prop.value\n                        action = {\n                            title: resultValue[0],\n                            forms: [\n                                {\n                                    op: 'invokeaction',\n                                    href: propValue[0]\n                                }\n                            ]\n                        }\n                        return action\n                    }\n                    return\n                })\n            }\n                const resultValue = result.value\n                if (!resultValue[1]) {\n                    action = {\n                        title: resultValue[0],\n                    }\n                }\n                return action\n            }\n            return\n    })\n}\n\nexport default addAction","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addEvent = () => {\n    let event = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            title: 'Eventtitle',\n            text: 'Please enter a name for your new Event'\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Event?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[1]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1', '2']\n                }).queue([\n                    {\n                        text: 'Select an Operation or multiple Operations',\n                        html: operationsSelections('events'),\n                        preConfirm: () => {\n                            const operations = ['1', '2'].map(x => {\n                                return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                            }).filter(y => y !== undefined);\n                            console.log('operations', operations)\n                            result.value[2] = operations\n                        }\n                    },\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Event is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const resultValue = result.value\n                        const propValue = prop.value\n                        event = {\n                            title: resultValue[0],\n                            forms: [\n                                {\n                                    op: resultValue[2],\n                                    href: propValue[1]\n                                }\n                            ]\n                        }\n                        return event\n                    }\n                    return\n                })\n            }\n            const resultValue = result.value\n\n            if (!resultValue[1]) {\n                event = {\n                    title: resultValue[0],\n                }\n            }\n            return event\n        }\n        return;\n    })\n}\n\nexport default addEvent;","import React, { useState, useContext } from 'react';\nimport { InfoIconWrapper } from '../InfoIcon/InfoIcon';\nimport { tooltipMapper } from '../InfoIcon/InfoTooltips';\nimport { SearchBar } from './SearchBar';\nimport ediTDorContext from '../../context/ediTDorContext';\nimport Action from './Action';\nimport Event from './Event';\nimport Property from './Property';\nimport addProperty from './AddProperty';\nimport addAction from './AddAction';\nimport addEvent from './AddEvent';\n\nconst addInteractionMapper = {\n    \"properties\": addProperty,\n    \"actions\": addAction,\n    \"events\": addEvent,\n}\n\nconst SORT_ASC = \"asc\";\nconst SORT_DESC = \"desc\";\n\nlet td = {};\nlet oldTd = {};\n\n/**\n * Renders a section for an interaction (Property, Action, Event) with a \n * search bar, a sorting icon and a button to add a new interaction.\n * \n * The parameter interaction can be one of \"Properties\", \"Actions\" or \"Events\".\n * @param {String} interaction\n */\nexport const InteractionSection = (props) => {\n    const [filter, setFilter] = useState(\"\");\n    const [sortOrder, setSortOrder] = useState(SORT_ASC);\n\n    const interaction = props.interaction.toLowerCase();\n    const context = useContext(ediTDorContext);\n\n    try {\n        oldTd = td;\n        const parsedTd = JSON.parse(context.offlineTD);\n        td = parsedTd;\n    } catch (e) {\n        td = oldTd;\n    }\n\n    const updateFilter = (event) => setFilter(event.target.value);\n\n    /**\n    * Returns an Object containing all interactions with keys \n    * matching to the filter.\n    */\n    const applyFilter = () => {\n        if (!td[interaction]) {\n            return;\n        }\n\n        const filtered = {};\n        Object.keys(td[interaction]).filter(e => {\n            if (e.toLowerCase().indexOf(filter.toLowerCase()) > -1) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }).forEach((key) => {\n            filtered[key] = td[interaction][key];\n        });\n\n        return filtered;\n    }\n\n    const sortKeysInObject = (kind) => {\n        if (!td[kind]) {\n            return;\n        }\n\n        const ordered = {};\n        const toSort = Object.keys(td[kind]).map(x => {\n            return { key: x, title: td[kind][x].title }\n        })\n        if (sortOrder === SORT_ASC) {\n            toSort.sort((a, b) => {\n                const nameA = a.title ? a.title : a.key;\n                const nameB = b.title ? b.title : b.key;\n                return nameA.localeCompare(nameB)\n            }).forEach(function (sortedObject) {\n                ordered[sortedObject.key] = td[kind][sortedObject.key];\n            });\n            setSortOrder(SORT_DESC);\n        } else {\n            toSort.sort((a, b) => {\n                const nameA = a.title ? a.title : a.key;\n                const nameB = b.title ? b.title : b.key;\n                return nameA.localeCompare(nameB)\n            }).reverse().forEach(function (sortedObject) {\n                ordered[sortedObject.key] = td[kind][sortedObject.key];\n            });\n            setSortOrder(SORT_ASC);\n        }\n        td[kind] = ordered\n        context.updateOfflineTD(JSON.stringify(td, null, 2))\n    }\n\n    const sortedIcon = () => {\n        if (sortOrder === SORT_ASC) {\n            return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#ffffff\" stroke=\"#ffffff\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <path d=\"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4\" />\n            </svg>\n        }\n\n        return (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"#ffffff\" stroke=\"#ffffff\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4\" />\n        </svg>)\n    }\n\n    const addSubfieldToExistingTD = (type, name, property) => {\n        if (!td[type]) {\n            td[type] = {};\n        }\n        td[type][name] = property\n        context.updateOfflineTD(JSON.stringify(td, null, 2))\n    }\n\n    const onClickAddInteraction = async () => {\n        const interactionToAdd = await addInteractionMapper[interaction]();\n\n        if (interactionToAdd) {\n            addSubfieldToExistingTD(interaction, interactionToAdd.title, interactionToAdd);\n        }\n    }\n\n    const buildChildren = () => {\n        const filteredInteractions = applyFilter();\n\n        if (td.properties && interaction === \"properties\") {\n            return Object.keys(filteredInteractions).map((key, index) => {\n                return (<Property prop={filteredInteractions[key]} propName={key} key={index} />);\n            });\n        }\n        if (td.actions && interaction === \"actions\") {\n            return Object.keys(filteredInteractions).map((key, index) => {\n                return (<Action action={filteredInteractions[key]} actionName={key} key={index} />);\n            });\n        }\n        if (td.events && interaction === \"events\") {\n            return Object.keys(filteredInteractions).map((key, index) => {\n                return (<Event event={filteredInteractions[key]} eventName={key} key={index} />);\n            });\n        }\n    }\n\n    return (\n        <>\n            <div className=\"flex justify-start items-end pt-8 pb-4\">\n                <div className=\"flex flex-grow\">\n                    <InfoIconWrapper tooltip={tooltipMapper[interaction]}>\n                        <h2 className=\"text-2xl text-white pr-1 flex-grow\">{props.interaction}</h2>\n                    </InfoIconWrapper>\n                </div>\n                <SearchBar\n                    onKeyUp={(e) => updateFilter(e)}\n                    placeholder={`Search ${props.interaction}`}\n                    ariaLabel={`Search through all ${props.interaction}`}\n                />\n                <div className=\"w-2\"></div>\n                <button className=\"text-white bg-blue-500 cursor-pointer rounded-md p-2 h-9\" onClick={() => sortKeysInObject(interaction)}>\n                    {sortedIcon()}\n                </button>\n                <div className=\"w-2\"></div>\n                <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9\" onClick={onClickAddInteraction}>Add</button>\n            </div>\n            {buildChildren() && <div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{buildChildren()}</div>}\n        </>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useCallback, useState } from 'react';\nimport \"../../assets/main.css\"\nimport { ChevronRight, ChevronDown } from 'react-feather';\n\nfunction isObject(val) {\n    if (val === null) { return false; }\n    return ((typeof val === 'function') || (typeof val === 'object'));\n}\n\nexport const RenderedObject = (map) => {\n    const [showChildren, setShowChildren] = useState(new Array(Object.entries(map).length));\n    const handleClick = useCallback((i) => {\n        let temp = showChildren;\n        let x = showChildren[i];\n        temp[i] = x === null ? true : !x;\n        setShowChildren([...temp]);\n    }, [showChildren, setShowChildren])\n\n    return (\n        <>\n            {Object.entries(map).map(([k, v], i) => {\n                if (isObject(v)) {\n                    let indicator = (<button className=\"flex align-top\" onClick={() => handleClick(i)}>\n                        <div className=\"flex text-white font-bold bg-gray-600 py-1 px-2 rounded-md align-middle\">\n                            <h4>{k}</h4>\n                            {showChildren[i] === true ? <ChevronDown className=\"pl-1\" /> : <ChevronRight className=\"pl-1\" />}\n                        </div>\n                    </button>);\n\n                    let children = (<div className=\"flex\">\n                        <div className=\"flex w-1 rounded-lg bg-gray-400 ml-2 my-1\" />\n                        <div className=\"pl-8 mt-1\">\n                            {showChildren[i] === true && (Object.entries(v) ?? []).map(([k1, v1], i1) => {\n                                let m1 = {};\n                                m1[k1] = v1;\n                                return <RenderedObject {...m1} key={i1} />\n                            })}\n                        </div>\n                    </div>);\n\n                    return (\n                        <div className=\"mb-1\" key={i}>\n                            {indicator}\n                            {showChildren[i] === true && children}\n                        </div>\n                    )\n                }\n\n                return (\n                    <div className=\"flex mb-1\" key={i}>\n                        <h4 className=\"text-white font-bold bg-gray-600 py-1 px-2 rounded-md\">{k}</h4>\n                        <div className=\"text-gray-400 px-2 py-1\">{`${v}`}</div>\n                    </div>\n                )\n            })}\n        </ >\n    );\n}\n\n","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from 'react';\nimport ediTDorContext from '../../context/ediTDorContext';\nimport addGlobalForm from './AddForm';\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from '../../util';\nimport '../../assets/main.css';\nimport Form from './Form';\nimport Swal from 'sweetalert2';\nimport { InfoIconWrapper } from '../InfoIcon/InfoIcon';\nimport { getFormsTooltipContent } from '../InfoIcon/InfoTooltips';\nimport { InteractionSection } from './InteractionSection';\nimport { RenderedObject } from './RenderedObject';\nlet tdJSON = {};\nlet oldtdJSON = {};\nlet error = \"\";\n\nconst JSON_SPACING = 2;\n\nexport default function TDViewer() {\n    const context = useContext(ediTDorContext);\n    try {\n        oldtdJSON = tdJSON;\n        tdJSON = JSON.parse(context.offlineTD);\n        error = '';\n    } catch (e) {\n        error = e.message;\n        tdJSON = oldtdJSON;\n    }\n\n    if (!Object.keys(tdJSON).length) {\n        return (\n            <div className=\"flex h-full w-full bg-gray-500 justify-center align-center text-center \">\n                <div className=\"text-4xl text-white place-self-center\">Start writing a new TD by clicking \"New TD\"</div>\n            </div>\n        )\n    }\n\n    const onClickAddGlobalForm = async () => {\n        const formToAdd = await addGlobalForm();\n        if (formToAdd) {\n            if (!hasForms(tdJSON)) {\n                tdJSON.forms = [];\n            }\n            if (checkIfFormIsInItem(formToAdd, tdJSON)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText: 'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText: 'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        tdJSON.forms.push(formToAdd)\n                        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n                    }\n                })\n            }\n            tdJSON.forms.push(formToAdd)\n            context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n        }\n    }\n\n    let forms;\n    let metaData;\n\n    if (tdJSON) {\n        if (tdJSON.forms) {\n            const formsSeparated = separateForms(tdJSON.forms);\n            forms = formsSeparated.map((key, index) => {\n                return (<Form form={key} propName={index} key={index} />);\n            });\n        }\n        metaData = tdJSON;\n\n        const alreadyRenderedKeys = [\"id\", \"properties\", \"actions\", \"events\", \"forms\", \"description\", \"title\",];\n        const attributeListObject = buildAttributeListObject(tdJSON.id ? { id: tdJSON.id } : {}, tdJSON, alreadyRenderedKeys);\n\n        return (\n            <div className=\"h-full w-full bg-gray-500 p-8 overflow-auto\">\n                {(error.length > 0 && (\n                    <div className=\"flex h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n                        <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                            <div className=\"text-formRed place-self-center text-center text-xs px-4\">Error</div>\n                        </div>\n                        <div className=\" place-self-center pl-3 text-base text-white overflow-hidden\">{error}</div>\n                    </div>))}\n                {(metaData !== undefined && Object.keys(metaData).length > 0) && (\n                    <div>\n                        <div className=\"text-3xl text-white\">{metaData.title}</div>\n                        <RenderedObject {...attributeListObject}></RenderedObject>\n                        {\n                            metaData.description ? <div className=\"text-xl text-white pt-4\">{metaData.description}</div> : <></>\n                        }\n                    </div>)\n                }\n                <details className=\"pt-8\">\n                    <summary className=\"flex justify-start items-center cursor-pointer\">\n                        <div className=\"flex flex-grow\">\n                            <InfoIconWrapper tooltip={getFormsTooltipContent()}>\n                                <h2 className=\"text-2xl text-white p-1 flex-grow\">Forms</h2>\n                            </InfoIconWrapper>\n                        </div>\n                        <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2\" onClick={onClickAddGlobalForm}>Add new Form</button>\n                    </summary>\n                    {forms && <div className=\"pt-4\"><div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{forms}</div></div>}\n                </details>\n\n                <InteractionSection interaction=\"Properties\" ></InteractionSection>\n                <InteractionSection interaction=\"Actions\" ></InteractionSection>\n                <InteractionSection interaction=\"Events\" ></InteractionSection>\n            </div >\n        );\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext, useState, useRef } from \"react\";\nimport MonacoEditor from \"react-monaco-editor\";\nimport ediTDorContext from \"../../context/ediTDorContext\";\n\nconst mapping = require(\"../../assets/mapping.json\");\n\nconst tdSchema =\n  \"https://raw.githubusercontent.com/thingweb/thingweb-playground/%40thing-description-playground/web%401.0.0/packages/playground-core/td-schema.json\";\nconst tmSchema =\n  \"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json\";\n\n//List of all Options can be found here: https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.ieditorconstructionoptions.html\nconst editorOptions = {\n  selectOnLineNumbers: true,\n  automaticLayout: true,\n  lineDecorationsWidth: 20,\n};\n\nconst JSONEditorComponent = (props) => {\n  const context = useContext(ediTDorContext);\n  const [schemas] = useState([]);\n  const [proxy, setProxy] = useState(undefined);\n  const editorInstance = useRef(null);\n\n  const editorWillMount = async (monaco) => {\n    monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n      validate: true,\n      enableSchemaRequest: true,\n      schemas: [],\n    });\n\n    if (!(\"Proxy\" in window)) {\n      console.warn(\"Your browser doesn't support Proxies.\");\n      return;\n    }\n\n    let proxy = new Proxy(schemas, {\n      set: function (target, property, value, _) {\n        target[property] = value;\n\n        let jsonSchemaObjects = [tdSchema];\n        for (let i = 0; i < target.length; i++) {\n          jsonSchemaObjects.push({\n            fileMatch: [\"*/*\"],\n            uri: target[i],\n          });\n        }\n\n        monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n          validate: true,\n          enableSchemaRequest: true,\n          schemas: jsonSchemaObjects,\n        });\n\n        return true;\n      },\n    });\n    setProxy(proxy);\n  };\n\n  const editorDidMount = (editor, monaco) => {\n    editor.onDidChangeModelDecorations(() => {\n      const model = editor.getModel();\n      if (model === null || model.getModeId() !== \"json\") return;\n    });\n  };\n\n  const addSchema = (val) => {\n    if (proxy.includes(val)) {\n      return;\n    }\n    proxy.push(val);\n  };\n\n  const removeSchema = (val) => {\n    const index = proxy.indexOf(val);\n    if (index === -1) {\n      return;\n    }\n    proxy.splice(index, 1);\n  };\n\n  const emptySchemas = () => {\n    proxy.splice(0, this.state.proxy.length);\n  };\n\n  const fetchSchema = async (target) => {\n    if (proxy.includes(target)) {\n      return;\n    }\n\n    try {\n      const url = new URL(target);\n      const res = await fetch(url);\n\n      const schema = await res.json();\n      return schema;\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const onChange = async (editorText, _) => {\n    try {\n      const json = JSON.parse(editorText);\n      if (!(\"@context\" in json)) {\n        emptySchemas();\n        return;\n      }\n      //Initialize TD-Schema\n      if (context.isThingModel === undefined) {\n        context.updateIsThingModel(false);\n        const schema = await fetchSchema(tdSchema);\n        if (schema) {\n          addSchema(tdSchema);\n        }\n      }\n\n      const atContext = json[\"@context\"];\n      const atType = json[\"@type\"];\n      if (atType.indexOf(\"ThingModel\") > -1) {\n        if (!context.isThingModel) {\n          context.updateIsThingModel(true);\n          const schema = await fetchSchema(tmSchema);\n          if (schema) {\n            addSchema(tmSchema);\n          }\n        }\n      } else if (context.isThingModel) {\n        if (\n          JSON.stringify(atContext).indexOf(\n            \"https://www.w3.org/2019/wot/td/v1\"\n          ) > -1\n        ) {\n          context.updateIsThingModel(false);\n          const schema = await fetchSchema(tdSchema);\n          if (schema) {\n            addSchema(tdSchema);\n          }\n        }\n      }\n\n      // handle if @context is a string\n      if (typeof atContext === \"string\") {\n        if (mapping[atContext] !== undefined && !proxy.includes(mapping[atContext])) {\n          const schema = await fetchSchema(atContext);\n          if (schema) {\n            addSchema(atContext);\n          }\n          return;\n        }\n      }\n\n      // handle if @context is an array\n      if (Array.isArray(atContext)) {\n        for (let i = 0; i < atContext.length; i++) {\n          if (typeof atContext[i] === \"string\") {\n            if (mapping[atContext] !== undefined && !proxy.includes(mapping[atContext])) {\n              console.log(\"found schema for\", atContext);\n              const schema = await fetchSchema(atContext[i]);\n              if (schema) {\n                addSchema(atContext[i]);\n              }\n            }\n          }\n          if (typeof atContext[i] === \"object\") {\n            Object.keys(atContext[i]).forEach(async (contextKey) => {\n              if (mapping[atContext[i][contextKey]] !== undefined && !proxy.includes(mapping[atContext])) {\n                const schema = await fetchSchema(mapping[atContext[i][contextKey]]);\n                if (schema) {\n                  addSchema(mapping[atContext[i][contextKey]]);\n                }\n              }\n            });\n          }\n        }\n      }\n      // remove deleted schemas\n      if (Array.isArray(atContext)) {\n        for (let i = 0; i < proxy.length; i++) {\n          const x = Object.keys(mapping).find(\n            (key) => mapping[key] === proxy[i]\n          );\n          if (!atContext.includes(x)) {\n            removeSchema(proxy[i]);\n          }\n        }\n      }\n    } catch (e) {\n    } finally {\n      context.updateOfflineTD(editorText, \"Editor\");\n    }\n  };\n\n  return (\n    <div className=\"w-full h-full\">\n      <MonacoEditor\n        options={editorOptions}\n        theme={\"vs-\" + context.theme}\n        language=\"json\"\n        ref={editorInstance}\n        value={context.offlineTD}\n        editorWillMount={editorWillMount}\n        editorDidMount={editorDidMount}\n        onChange={async (editorText) => {\n          await onChange(editorText);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default JSONEditorComponent;\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\n\nexport default function Button(props) {\n    return (\n        <button\n            onClick={props.onClick}\n            className=\"\n                flex\n                bg-blue-400                 \n                hover:bg-blue-300 \n                text-white \n                font-bold \n                py-2 px-5 \n                rounded \n                w-32 \n                h-12\n                text-center \n                cursor-pointer\n                justify-center\n            \">\n            <div className=\"place-self-center\">\n                {props.children}\n            </div>\n        </button>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nexport function RequestTdMetadata() {\n    return `${formField(\"ID\", \"urn:thing-id\", \"thing-id\", \"url\")}\n            ${formField(\"Title\", \"Thing Title\", \"thing-title\", \"text\")}\n            ${formField(\"Base\", \"http://www.example.com/thing-path\", \"thing-base\", \"url\")}`;\n};\n\nexport function RequestTdDescription() {\n    return `<textarea rows=\"5\"\n    class=\"bg-gray-200 \n    appearance-none \n    border-2 border-gray-200 rounded w-full \n    py-2 px-4 \n    text-gray-700 \n    leading-tight \n    focus:outline-none \n    focus:bg-white \n    focus:border-blue-500\" \n    id=\"thing-description\" \n    placeholder=\"A short description of what the Thing does...\">`;\n};\n\nexport function RequestTdSecurity() {\n    return `\n    <div class=\"relative\">\n        <select class=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"thing-security\">\n            <option>nosec</option>\n            <option>basic</option>\n            <option>digest</option>\n            <option>bearer</option>\n            <option>psk</option>\n            <option>oauth2</option>\n            <option>apikey</option>\n        </select>\n        <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n            <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/></svg>\n        </div>\n  </div>`;\n};\n\nconst formField = (label, placeholder, id, type) => {\n    return `<div class=\"md:flex md:items-center mb-6\">\n    <div class=\"md:w-1/6\">\n        <label class=\"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4\" for=\"${id}\">\n            ${label}\n        </label>\n    </div>\n    <div class=\"md:w-5/6\">\n        <input class=\"bg-gray-200 \n        appearance-none \n        border-2 border-gray-200 rounded w-full \n        py-2 px-4 \n        text-gray-700 \n        leading-tight \n        focus:outline-none \n        focus:bg-white \n        focus:border-blue-500\" \n        id=\"${id}\" \n        placeholder=\"${placeholder}\"\n        type=\"${type}\">\n    </div>\n</div>`\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nimport * as newTd from './CreateNewTDContent.js';\n\nconst swal = require('sweetalert2');\n\nexport default async function CreateNewTD() {\n    var tdMetadata = {};\n    var tdDescription = \"\";\n    var tdSecurity = \"\";\n\n    return swal.mixin({\n        input: 'text',\n        backdrop: true,\n        reverseButtons: true,\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2', '3']\n    }).queue([\n        {\n            title: 'TD Identifiers',\n            html: newTd.RequestTdMetadata(),\n            input: null,\n            preConfirm: () => {\n                let id = document.getElementById('thing-id').value;\n                let title = document.getElementById('thing-title').value;\n                let base = document.getElementById('thing-base').value;\n\n                tdMetadata = { id: id, title: title, base: base }\n            }\n        },\n        {\n            title: 'TD Description',\n            html: newTd.RequestTdDescription(),\n            input: null,\n            preConfirm: () => {\n                tdDescription = document.getElementById('thing-description').value;\n            }\n\n        },\n        {\n            title: 'TD Security',\n            html: newTd.RequestTdSecurity(),\n            input: null,\n            preConfirm: () => {\n                tdSecurity = document.getElementById('thing-security').value;\n            }\n\n        }\n    ]).then((result) => {\n        if (result.dismiss) {\n            return;\n        }\n\n        var thing = {};\n\n        thing[\"@context\"] = \"https://www.w3.org/2019/wot/td/v1\";\n        thing[\"title\"] = tdMetadata.title !== \"\" ? tdMetadata.title : \"ediTDor Thing\";\n        thing[\"id\"] = tdMetadata.id !== \"\" ? tdMetadata.id : \"urn:editdor-thing-id\";\n\n        if (tdMetadata.base !== \"\") {\n            thing[\"base\"] = tdMetadata.base !== \"\" ? tdMetadata.base : \"/\";\n        }\n\n        if (tdDescription !== \"\") {\n            thing[\"description\"] = tdDescription;\n        }\n\n        let securityDefinitions = {};\n        securityDefinitions[`${tdSecurity}_sc`] = { scheme: tdSecurity };\n\n        thing[\"securityDefinitions\"] = securityDefinitions;\n        thing[\"security\"] = `${tdSecurity}_sc`;\n\n        thing[\"properties\"] = {};\n        thing[\"actions\"] = {};\n        thing[\"events\"] = {};\n\n        return thing;\n    })\n}\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useCallback, useContext, useEffect } from \"react\";\nimport logo from \"../../../assets/editdor.png\";\nimport wot from \"../../../assets/WoT.png\";\nimport ediTDorContext from \"../../../context/ediTDorContext\";\nimport \"../../../assets/main.css\";\nimport \"./Button.js\";\nimport \"../App.css\"\nimport Button from \"./Button.js\";\nimport CreateNewTD from \"./CreateNewTD.js\";\nimport Swal from \"sweetalert2\";\n\nexport default function AppHeader() {\n  const context = useContext(ediTDorContext);\n  const [showModal, setShowModal] = React.useState(false);\n  const [htmlPlaceholders, sethtmlPlaceholders] = React.useState([]);\n\n  /**\n   * Check if the Browser Supports the new Native File System Api (Chromium 86.0)\n   */\n  const hasNativeFS = useCallback(() => {\n    return (\n      \"chooseFileSystemEntries\" in window || \"showOpenFilePicker\" in window\n    );\n  }, []);\n\n  const verifyDiscard = useCallback(async () => {\n    if (!context.isModified) {\n      return true;\n    }\n\n    console.log(\"verifyDiscard\", context.isModified);\n    const msg =\n      \"Discard changes? All changes you made to your TD will be lost.\";\n    return await window.confirm(msg);\n  }, [context.isModified]);\n\n  /**\n   *\n   * @param {*} file\n   *\n   * Read file content\n   */\n  const read = useCallback((file) => {\n    return file.text ? file.text() : _readFileHTML5(file);\n  }, []);\n\n  const readFile = useCallback(\n    async (file, fileHandle) => {\n      try {\n        context.updateOfflineTD(await read(file));\n        context.setFileHandle(fileHandle || file.name);\n        context.updateIsModified(false);\n      } catch (ex) {\n        const msg = `An error occured reading ${context.offlineTD}`;\n        console.error(msg, ex);\n        //TODO: Replace with SweetAlert2\n        alert(msg);\n      }\n    },\n    [context, read]\n  );\n\n  /**\n   *\n   * @param {*} _\n   *\n   * Open File from Filesystem\n   */\n  const openFile = useCallback(\n    async (_) => {\n      if (!(await verifyDiscard())) {\n        return;\n      }\n\n      if (!hasNativeFS()) {\n        const file = await getFileHTML5();\n        if (file) {\n          await readFile(file);\n        }\n        return;\n      }\n\n      let fileHandle;\n      try {\n        fileHandle = await getFileHandle();\n        const file = await fileHandle.getFile();\n        await readFile(file, fileHandle);\n      } catch (ex) {\n        const msg = \"We ran into an error trying to open your TD.\";\n        console.error(msg, ex);\n        alert(msg);\n      }\n    },\n    [readFile, verifyDiscard, hasNativeFS]\n  );\n\n  const writeFile = useCallback(\n    async (fileHandle, contents) => {\n      if (fileHandle.createWriter) {\n        const writer = await fileHandle.createWriter();\n        await writer.write(0, contents);\n        await writer.close();\n        return;\n      }\n\n      const writable = await fileHandle.createWritable();\n      await writable.write(contents);\n      await writable.close();\n\n      // refresh td for rendered view\n      setTimeout(() => {\n        context.updateOfflineTD(contents, \"AppHEader\");\n        context.updateIsModified(false);\n      }, 500);\n    },\n    [context]\n  );\n\n  const saveAsHTML5 = useCallback((filename, contents) => {\n    const aDownload = document.getElementById(\"aDownload\");\n    filename = filename || \"untitled.txt\";\n    const opts = { type: \"text/plain\" };\n    const file = new File([contents], \"\", opts);\n    aDownload.href = window.URL.createObjectURL(file);\n    aDownload.setAttribute(\"download\", filename);\n    aDownload.click();\n  }, []);\n\n  const saveFileAsTD = () => {\n    try {\n      let regex = /{{/gi,\n        result,\n        startIindices = [];\n      while ((result = regex.exec(context.offlineTD))) {\n        startIindices.push(result.index);\n      }\n      regex = /}}/gi;\n      let endIndices = [];\n      while ((result = regex.exec(context.offlineTD))) {\n        endIndices.push(result.index);\n      }\n      let placeholders = [];\n      for (let i = 0; i < startIindices.length; i++) {\n        placeholders.push(\n          context.offlineTD.slice(startIindices[i] + 2, endIndices[i])\n        );\n      }\n      placeholders = [...new Set(placeholders)];\n      const htmlPlaceholdersTMP = placeholders.map((holder) => {\n        return (\n          <div key={holder} className=\"py-1\">\n            <label htmlFor={holder} className=\"text-sm text-gray-400 font-medium pl-2\">\n              {holder}:\n            </label>\n            <input\n              type=\"text\"\n              name={holder}\n              id={holder}\n              className=\"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border text-white rounded-md\"\n              placeholder=\"Enter a value...\"\n            />\n          </div>\n        );\n      });\n      sethtmlPlaceholders(htmlPlaceholdersTMP);\n      setShowModal(true);\n    } catch (e) { }\n  };\n\n  const saveTMasTD = () => {\n    let mappingObject = {}\n    htmlPlaceholders.forEach((y) => {\n      const elem = document.getElementById(y.key)\n      mappingObject[y.key] = elem.value\n      return elem.value\n    });\n    let JSONResult = context.offlineTD;\n    Object.keys(mappingObject).forEach(key => {\n      JSONResult = JSONResult.split(`{{${key}}}`).join(mappingObject[key])\n    })\n    const parse = JSON.parse(JSONResult);\n    const permalink = `${window.location.href}?td=${encodeURI(JSON.stringify(parse))}`\n    window.open(permalink, \"_blank\");\n  }\n\n  const saveFileAs = useCallback(async () => {\n    if (!hasNativeFS()) {\n      saveAsHTML5(context.name, context.offlineTD);\n      return;\n    }\n\n    let fileHandle;\n    try {\n      fileHandle = await getNewFileHandle();\n    } catch (ex) {\n      const msg = \"We ran into an error trying to save your TD.\";\n      console.error(msg, ex);\n      return alert(msg);\n    }\n\n    try {\n      await writeFile(fileHandle, context.offlineTD);\n      context.setFileHandle(fileHandle);\n      context.updateIsModified(false);\n    } catch (ex) {\n      const msg = \"Unfortunately we were unable to save your TD.\";\n      console.error(msg, ex);\n      alert(msg);\n    }\n  }, [saveAsHTML5, hasNativeFS, context, writeFile]);\n\n  const newFile = useCallback(async () => {\n    const thing = await CreateNewTD();\n    if (thing) {\n      context.updateOfflineTD(JSON.stringify(thing, null, \"\\t\"), \"AppHEader\");\n    }\n  }, [context]);\n\n  const saveFile = useCallback(async () => {\n    try {\n      if (!context.fileHandle) {\n        return await saveFileAs();\n      }\n      await writeFile(context.fileHandle, context.offlineTD);\n    } catch (ex) {\n      const msg = \"Unfortunately we were unable to save your TD.\";\n      console.error(msg, ex);\n      alert(msg);\n    }\n  }, [context, saveFileAs, writeFile]);\n\n  /**\n   * Reading files with HTML5 input\n   */\n  const getFileHTML5 = async () => {\n    return new Promise((resolve, reject) => {\n      const fileInput = document.getElementById(\"fileInput\");\n      fileInput.onchange = (e) => {\n        const file = fileInput.files[0];\n        if (file) {\n          return resolve(file);\n        }\n        return reject(new Error(\"AbortError\"));\n      };\n      fileInput.click();\n    });\n  };\n\n  /**\n   * File Handle from native filesystem api\n   * Only JSON/JSON+LD Files are supported\n   */\n  const getFileHandle = () => {\n    const opts = {\n      types: [\n        {\n          description: \"Thing Description\",\n          accept: { \"application/ld+json\": [\".jsonld\", \".json\"] },\n        },\n      ],\n    };\n    if (\"showOpenFilePicker\" in window) {\n      return window.showOpenFilePicker(opts).then((handles) => handles[0]);\n    }\n    return window.chooseFileSystemEntries();\n  };\n\n  const getNewFileHandle = async () => {\n    // new file system api\n    if (\"showSaveFilePicker\" in window) {\n      const opts = {\n        types: [\n          {\n            description: \"Thing Description\",\n            accept: { \"application/ld+json\": [\".jsonld\", \".json\"] },\n          },\n        ],\n      };\n\n      return await window.showSaveFilePicker(opts);\n    }\n\n    // old html file input\n    const opts = {\n      type: \"save-file\",\n      accepts: [\n        {\n          description: \"Thing Description\",\n          extensions: [\".jsonld\", \".json\"],\n          mimeTypes: [\"application/ld+json\"],\n        },\n      ],\n    };\n\n    return await window.chooseFileSystemEntries(opts);\n  };\n\n  const _readFileHTML5 = (file) => {\n    return new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.addEventListener(\"loadend\", (event) => {\n        const text = event.srcElement.result;\n        return resolve(text);\n      });\n      reader.readAsText(file);\n    });\n  };\n\n  const createPermalink = () => {\n    const parse = JSON.parse(context.offlineTD);\n    const permalink = `${window.location.href}?td=${encodeURI(\n      JSON.stringify(parse)\n    )}`;\n    navigator.clipboard.writeText(permalink).then(\n      function () {\n        console.log(\"Async: Copying to clipboard was successful!\");\n      },\n      function (err) {\n        console.error(\"Async: Could not copy text: \", err);\n      }\n    );\n    Swal.fire({\n      title: \"Permalink\",\n      input: \"text\",\n      inputLabel: \"The link was copied to your clipboard\",\n      inputValue: permalink,\n      showCloseButton: true,\n    }).then((x) => {\n      console.log(x);\n    });\n    setTimeout(() => {\n      const textfield = document.getElementById(\"swal2-input\");\n      textfield.select();\n    }, 500);\n  };\n\n  useEffect(() => {\n    if (window.location.search.indexOf(\"td\") > -1) {\n      const url = new URL(window.location.href);\n      const td = url.searchParams.get(\"td\");\n      const parsedTD = JSON.parse(td);\n      context.updateOfflineTD(JSON.stringify(parsedTD, null, 2));\n    }\n    //because the GET Param should be only loaded once, the next line was added\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const shortcutHandler = (e) => {\n      if (\n        (window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) &&\n        e.key === \"s\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        saveFile();\n      }\n      if (\n        (window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) &&\n        e.key === \"o\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        openFile();\n      }\n      if (\n        (window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) &&\n        e.key === \"n\"\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        newFile();\n      }\n    };\n\n    // Adding Eventlistener for shortcuts\n    document.addEventListener(\"keydown\", shortcutHandler, false);\n    window.onbeforeunload = function (event) {\n      var message =\n        \"Important: Please click on 'Save' button to leave this page.\";\n      if (typeof event == \"undefined\") {\n        event = window.event;\n      }\n      if (event) {\n        event.returnValue = message;\n      }\n      return message;\n    };\n    return () => {\n      //Remove Eventlistener for shortcuts before unmounting component\n      document.removeEventListener(\"keydown\", shortcutHandler, false);\n    };\n  }, [openFile, saveFile, newFile, context]);\n\n  return (\n    <>\n      <header className=\"flex justify-between items-center h-16 bg-blue-500\">\n        <div className=\"flex items-center\">\n          <img className=\"pl-2 h-12\" src={wot} alt=\"WOT\" />\n          <div className=\"w-2\"></div>\n          <img className=\"pl-2 h-8\" src={logo} alt=\"LOGO\" />\n        </div>\n        <div className=\"flex space-x-2 pr-2\">\n          <Button onClick={createPermalink}>Create Permalink</Button>\n          <Button onClick={newFile}>New TD/TM</Button>\n          <Button onClick={openFile}>Open TD/TM</Button>\n          <Button onClick={saveFile}>Save</Button>\n          <Button onClick={saveFileAs}>Save As</Button>\n          {context.isThingModel && <Button onClick={saveFileAsTD}>Create as TD</Button>}\n        </div>\n        {showModal ? (\n          <div className=\"flex bg-gray-300 bg-opacity-50 w-full h-full absolute top-0 left-0 justify-center items-center z-10 text-white\">\n            <div className=\"bg-gray-500 w-1/3 flex flex-col justify-start rounded-xl shadow-xl p-4 max-h-screen\">\n              <div className=\"flex flex-row justify-start items-center  \">\n                <h1 className=\"text-xl font-bold flex-grow pl-2\">Generate TD from TM</h1>\n              </div>\n              <h2 className=\"text-gray-400 py-2 pl-2\">Please provide values to switch the placeholders with.</h2>\n              <div className=\"overflow-auto p-2\">\n                {htmlPlaceholders}\n              </div>\n              <div className=\"flex justify-end pt-4 p-2\">\n                <button className=\"text-white bg-gray-500 p-2 mr-1 rounded-md\" onClick={() => setShowModal(false)}>Cancel</button>\n                <button className=\"flex text-white bg-blue-500 p-2 rounded-md\" onClick={() => saveTMasTD()}>Generate TD</button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </header>\n      <input\n        className=\"h-0\"\n        type=\"file\"\n        id=\"fileInput\"\n        style={{ display: \"none\" }}\n      ></input>\n      <a className=\"h-0\" id=\"aDownload\" href=\"/\" style={{ display: \"none\" }}>\n        download\n      </a>\n    </>\n  );\n}\n","import React, { useContext } from 'react';\nimport ediTDorContext from '../../context/ediTDorContext';\n\nconst AppFooter = (props) => {\n    const context = useContext(ediTDorContext);\n    let megaBytes = 0\n    let propertiesCount = 0\n    let actionsCount = 0\n    let eventsCount = 0\n    try {\n        const parse = JSON.parse(context.offlineTD)\n        const size = new TextEncoder().encode(JSON.stringify(parse)).length\n        megaBytes = formatByteSize(size);\n        propertiesCount = parse.properties ? Object.keys(parse.properties).length : 0\n        actionsCount = parse.properties ? Object.keys(parse.actions).length : 0\n        eventsCount = parse.properties ? Object.keys(parse.events).length : 0\n    }\n    catch (e) {\n        // console.log(e)\n    }\n    return (<>\n        <footer className=\"bg-blue-500 h-8 flex flex-col items-center justify-center text-white\">\n            <div className=\"flex flex-row items-center justify-start w-full\">\n                <div className=\"mx-2\">Properties: {propertiesCount}</div>\n                <div className=\"mx-2\">Actions: {actionsCount}</div>\n                <div className=\"mx-2\">Events: {eventsCount}</div>\n                <div className=\"mx-2 flex-grow\">Size: {megaBytes}</div>\n                <div className=\"mx-2 justify-self-end\">Version: {process.env.REACT_APP_NPM_PACKAGE_VERSION} | <u><a href=\"https://github.com/eclipse/editdor\" target=\"_blank\" rel=\"noopener noreferrer\">We are on GitHub</a></u></div>\n            </div>\n        </footer>\n    </>\n    );\n}\n\nfunction formatByteSize(bytes) {\n    if(bytes < 1024) return bytes + \" bytes\";\n    else if(bytes < 1048576) return(bytes / 1024).toFixed(3) + \" KiB\";\n    else if(bytes < 1073741824) return(bytes / 1048576).toFixed(3) + \" MiB\";\n    else return(bytes / 1073741824).toFixed(3) + \" GiB\";\n};\n\n\nexport default AppFooter","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nexport const UPDATE_OFFLINE_TD = 'UPDATE_OFFLINE_TD';\nexport const UPDATE_IS_MODFIED = 'UPDATE_IS_MODFIED';\nexport const UPDATE_IS_THINGMODEL = 'UPDATE_IS_THINGMODEL';\nexport const SET_FILE_HANDLE = 'SET_FILE_HANDLE';\nexport const REMOVE_FORM_FROM_TD = 'REMOVE_FORM_FROM_TD';\nexport const ADD_PROPERTYFORM_TO_TD = 'ADD_PROPERTYFORM_TO_TD';\nexport const ADD_ACTIONFORM_TO_TD = 'ADD_ACTIONFORM_TO_TD';\nexport const ADD_EVENTFORM_TO_TD = 'ADD_EVENTFORM_TO_TD';\nexport const REMOVE_ONE_OF_A_KIND_FROM_TD = 'REMOVE_ONE_OF_A_KIND_FROM_TD';\n\nconst updateOfflineTDReducer = (offlineTD, state) => {\n  return { ...state, offlineTD, isModified: true };\n};\n\nconst removeFormReducer = (form, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  console.log(form);\n  if (form.type === 'forms') {\n    offlineTD.forms.forEach((element, i) => {\n      if (typeof (element.op) === 'string') {\n          offlineTD.forms.splice(i, 1)\n      } else {\n        if (element.href === form.form.href && element.op.indexOf(form.form.op) !== -1) {\n          element.op.splice(element.op.indexOf(form.form.op), 1)\n        }\n        if (element.op.length === 0) {\n          offlineTD.forms.splice(i, 1)\n        }\n      }\n    });\n  } else {\n    try {\n      offlineTD[form.type][form.propName].forms.forEach((element, i) => {\n        if (typeof (element.op) === 'string') {\n          if (element.href === form.form.href) {\n            offlineTD[form.type][form.propName].forms.splice(i, 1)\n          }\n        } else {\n          if (element.href === form.form.href && element.op.indexOf(form.form.op) !== -1) {\n            element.op.splice(element.op.indexOf(form.form.op), 1)\n          }\n          if (element.op.length === 0) {\n            offlineTD[form.type][form.propName].forms.splice(i, 1)\n          }\n        }\n      });\n    } catch (e) {\n      alert('Sorry we were unable to delete the Form.');\n    }\n  }\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst removeOneOfAKindReducer = (kind, oneOfAKindName, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  try {\n    delete offlineTD[kind][oneOfAKindName]\n  } catch (e) {\n    alert('Sorry we were unable to delete the Form.');\n  }\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addPropertyFormReducer = (form, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const property = offlineTD.properties[form.propName];\n  if (property.forms === undefined) {\n    property.forms = []\n  }\n  property.forms.push(form.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addActionFormReducer = (params, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const action = offlineTD.actions[params.actionName];\n  console.log('ActionForms', action.forms)\n  if (action.forms === undefined) {\n    action.forms = []\n  }\n  action.forms.push(params.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addEventFormReducer = (params, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const event = offlineTD.events[params.eventName];\n  if (event.forms === undefined) {\n    event.forms = []\n  }\n  event.forms.push(params.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst updateIsModified = (isModified, state) => {\n  return { ...state, isModified: isModified };\n};\n\nconst updateIsThingModel = (isThingModel, state) => {\n  return { ...state, isThingModel: isThingModel };\n};\n\nconst updateFileHandleReducer = (fileHandle, state) => {\n  return { ...state, fileHandle: fileHandle };\n};\n\nconst editdorReducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_OFFLINE_TD:\n      return updateOfflineTDReducer(action.offlineTD, state);\n    case UPDATE_IS_MODFIED:\n      return updateIsModified(action.isModified, state);\n    case UPDATE_IS_THINGMODEL:\n      return updateIsThingModel(action.isThingModel, state);\n    case SET_FILE_HANDLE:\n      const newState = updateFileHandleReducer(action.fileHandle, state)\n      return newState;\n    case REMOVE_FORM_FROM_TD:\n      return removeFormReducer(action.form, state)\n    case REMOVE_ONE_OF_A_KIND_FROM_TD:\n      return removeOneOfAKindReducer(action.kind, action.oneOfAKindName, state)\n    case ADD_PROPERTYFORM_TO_TD:\n      return addPropertyFormReducer(action.form, state)\n    case ADD_ACTIONFORM_TO_TD:\n      return addActionFormReducer(action.params, state)\n    case ADD_EVENTFORM_TO_TD:\n      return addEventFormReducer(action.params, state)\n    default:\n      return state;\n  }\n};\n\nexport { editdorReducer }","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useReducer } from 'react';\n\nimport EdiTDorContext from './ediTDorContext';\nimport { editdorReducer, REMOVE_FORM_FROM_TD, UPDATE_IS_THINGMODEL, SET_FILE_HANDLE, UPDATE_IS_MODFIED, UPDATE_OFFLINE_TD, ADD_PROPERTYFORM_TO_TD, ADD_ACTIONFORM_TO_TD, ADD_EVENTFORM_TO_TD, REMOVE_ONE_OF_A_KIND_FROM_TD } from './editorReducers';\n\n\nconst GlobalState = props => {\n  const [editdorState, dispatch] = useReducer(editdorReducer, { offlineTD: '', theme: 'dark' });\n\n  const updateOfflineTD = (offlineTD, props) => {\n    dispatch({ type: UPDATE_OFFLINE_TD, offlineTD: offlineTD });\n  };\n\n  const updateIsModified = isModified => {\n    dispatch({ type: UPDATE_IS_MODFIED, isModified: isModified });\n  };\n\n  const updateIsThingModel = isThingModel => {\n    dispatch({ type: UPDATE_IS_THINGMODEL, isThingModel: isThingModel });\n  };\n\n  const setFileHandle = fileHandle => {\n    dispatch({ type: SET_FILE_HANDLE, fileHandle: fileHandle });\n  };\n\n  const removeForm = form => {\n    dispatch({ type: REMOVE_FORM_FROM_TD, form: form });\n  };\n\n  const addForm = form => {\n    dispatch({ type: ADD_PROPERTYFORM_TO_TD, form: form });\n  };\n\n  const addActionForm = params => {\n    dispatch({ type: ADD_ACTIONFORM_TO_TD, params: params });\n  };\n  const addEventForm = params => {\n    dispatch({ type: ADD_EVENTFORM_TO_TD, params: params });\n  };\n  const removeOneOfAKindReducer = (kind, oneOfAKindName) => {\n    dispatch({ type: REMOVE_ONE_OF_A_KIND_FROM_TD, kind, oneOfAKindName });\n  };\n\n  return (\n    <EdiTDorContext.Provider\n      value={{\n        offlineTD: editdorState.offlineTD,\n        theme: editdorState.theme,\n        isModified: editdorState.isModified,\n        isThingModel: editdorState.isThingModel,\n        name: editdorState.name,\n        fileHandle: editdorState.fileHandle,\n        updateOfflineTD,\n        updateIsModified,\n        updateIsThingModel,\n        setFileHandle,\n        removeForm,\n        addForm,\n        addActionForm,\n        addEventForm,\n        removeOneOfAKindReducer\n      }}\n    >\n      {props.children}\n    </EdiTDorContext.Provider>\n  );\n};\n\nexport default GlobalState;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport TDViewer from '../TDViewer/TDViewer'\nimport JSONEditorComponent from \"../Editor/Editor\";\nimport AppHeader from './AppHeader/AppHeader';\nimport AppFooter from './AppFooter';\nimport GlobalState from '../../context/GlobalState';\n\nimport '../../assets/main.css'\n\nconst App = (props) => {\n    useEffect(() => { dragElement(document.getElementById(\"separator\"), \"H\"); }, [props])\n    return (\n        <GlobalState>\n            <main className=\"h-full w-screen flex flex-col\">\n                <AppHeader></AppHeader>\n                <div className=\"flex-grow splitter flex flex-row w-full height-adjust\">\n                    <div className=\"w-5/12\" id=\"first\"><JSONEditorComponent /></div>\n                    <div id=\"separator\"></div>\n                    <div className=\"w-7/12\" id=\"second\"><TDViewer /></div>\n                </div>\n                <AppFooter></AppFooter>\n            </main>\n        </GlobalState>\n    );\n}\n\n\n/**\n * \n * @param {*} element \n * @param {*} direction \n * \n * Adjust size of the two Panels \"first\" and \"second\"\n */\nconst dragElement = (element, direction) => {\n    let md;\n    const first = document.getElementById(\"first\");\n    const second = document.getElementById(\"second\");\n\n    const onMouseMove = (e) => {\n        var delta = {\n            x: e.clientX - md.e.clientX,\n            y: e.clientY - md.e.clientY\n        };\n\n        if (direction === \"H\") {\n            delta.x = Math.min(Math.max(delta.x, -md.firstWidth),\n                md.secondWidth);\n\n            element.style.left = md.offsetLeft + delta.x + \"px\";\n            first.style.width = (md.firstWidth + delta.x) + \"px\";\n            second.style.width = (md.secondWidth - delta.x) + \"px\";\n        }\n    }\n\n    const onMouseDown = (e) => {\n        md = {\n            e,\n            offsetLeft: element.offsetLeft,\n            offsetTop: element.offsetTop,\n            firstWidth: first.offsetWidth,\n            secondWidth: second.offsetWidth\n        };\n        document.onmousemove = onMouseMove;\n        document.onmouseup = () => {\n            document.onmousemove = document.onmouseup = null;\n        }\n    }\n\n    element.onmousedown = onMouseDown;\n}\n\nexport default App;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\nimport ReactDOM from 'react-dom'; \nimport './assets/main.css'\nimport './index.css'\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// No PWA at the moment.\nserviceWorker.register();\n"],"sourceRoot":""}