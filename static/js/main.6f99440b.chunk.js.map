{"version":3,"sources":["assets/editdor.png","assets/WoT.png","context/ediTDorContext.js","util.js","components/TDViewer/OperationsSelections.js","components/TDViewer/AddPropertyForm.js","components/TDViewer/Form.jsx","components/InfoIcon/InfoIcon.jsx","components/InfoIcon/InfoTooltips.jsx","components/TDViewer/Property.jsx","components/TDViewer/AddActionForm.js","components/TDViewer/Action.jsx","components/TDViewer/AddEventForm.js","components/TDViewer/Event.jsx","components/TDViewer/AddProperty.js","components/TDViewer/AddAction.js","components/TDViewer/AddEvent.jsx","components/TDViewer/AddForm.jsx","components/TDViewer/TDViewer.jsx","components/Editor/Editor.jsx","components/App/AppHeader/Button.js","components/App/AppHeader/CreateNewTDContent.js","components/App/AppHeader/CreateNewTD.js","components/App/AppHeader/AppHeader.jsx","context/editorReducers.js","context/GlobalState.js","components/App/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","React","createContext","offlineTD","theme","isModified","name","fileHandle","updateOfflineTD","td","updateIsModified","setFileHandle","handle","removeForm","form","addForm","addActionForm","params","addEventForm","removeOneOfAKindReducer","kind","oneOfAKind","buildAttributeListObject","firstAttribute","object","dontRender","attributeListObject","Object","entries","key","value","includes","separateForms","forms","undefined","newForms","i","length","Array","isArray","op","temp","push","hasForms","itemToCheck","checkIfFormIsInItem","element","checkIfFormIsInElement","x","deepCompare","y","operationsSelections","type","Swal","require","addPropertyForm","a","mixin","title","confirmButtonText","showCancelButton","progressSteps","queue","text","html","preConfirm","operations","map","document","getElementById","checked","filter","input","then","prop","dismiss","propValue","href","Form","props","formChooser","ObserveForm","propName","UnobserveForm","ReadForm","ReadMultipleForm","formIndex","ReadAllForm","WriteForm","WriteMultipleForm","WriteAllForm","InvokeForm","interactionType","UndefinedForm","context","useContext","ediTDorContext","className","onClick","e","xmlns","viewBox","fill","fillRule","d","clipRule","InfoIconWrapper","children","window","open","tooltip","InfoIcon","color","size","data-html","data-type","data-tip","data-background-color","TooltipContent","this","getFormsTooltipContent","alreadyRenderedKeys","Property","keys","constructor","property","attributes","JSON","stringify","onClickAddForm","formToAdd","fire","icon","confirmButtonAriaLabel","cancelButtonText","cancelButtonAriaLabel","isConfirmed","description","stroke","strokeLinecap","strokeLinejoin","strokeWidth","Action","action","actionName","console","log","Event","event","eventName","addProperty","inputOptions","number","integer","boolean","string","array","inputPlaceholder","focusConfirm","showDenyButton","denyButtonText","result","resultValue","addAction","addEvent","addGlobalForm","tdJSON","first","firstFilterOfEvents","firstFilterOfActions","unfilteredProps","unfilteredEvents","unfilteredActions","oldtdJSON","error","sortorder","TDViewer","parse","message","properties","actions","events","metaData","onClickAddEvent","eventToAdd","addSubfieldToExistingTD","onClickAddAction","actionToAdd","onClickAddProp","propToAdd","onClickAddGlobalForm","index","base","id","sortKeysInObject","ordered","toSort","sort","b","nameA","nameB","localeCompare","forEach","sortedObject","reverse","sortedIcon","width","height","autoComplete","onKeyUp","sortedProps","target","toLowerCase","indexOf","placeholder","aria-label","xlink","version","style","enableBackground","space","sortedActions","disabled","sortedEvents","mapping","tdSchema","fileMatch","uri","editorOptions","selectOnLineNumbers","automaticLayout","lineDecorationsWidth","JSONEditorComponent","useState","schemas","proxy","setProxy","editorInstance","useRef","addSchema","val","removeSchema","splice","emptySchemas","state","fetchSchema","url","URL","fetch","res","json","schema","onChange","editorText","_","atContext","contextKey","find","options","language","ref","editorWillMount","monaco","languages","jsonDefaults","setDiagnosticsOptions","validate","enableSchemaRequest","Proxy","set","jsonSchemaObjects","warn","editorDidMount","editor","onDidChangeModelDecorations","model","getModel","getModeId","Button","RequestTdMetadata","formField","label","swal","CreateNewTD","tdMetadata","tdDescription","tdSecurity","backdrop","reverseButtons","newTd","thing","securityDefinitions","scheme","AppHeader","hasNativeFS","useCallback","verifyDiscard","confirm","read","file","_readFileHTML5","readFile","msg","alert","openFile","getFileHTML5","getFileHandle","getFile","writeFile","contents","createWriter","writer","write","close","createWritable","writable","setTimeout","saveAsHTML5","filename","aDownload","File","createObjectURL","setAttribute","click","saveFileAs","getNewFileHandle","newFile","saveFile","Promise","resolve","reject","fileInput","onchange","files","Error","showOpenFilePicker","types","accept","handles","chooseFileSystemEntries","opts","showSaveFilePicker","accepts","extensions","mimeTypes","reader","FileReader","addEventListener","srcElement","readAsText","useEffect","location","search","searchParams","get","parsedTD","shortcutHandler","navigator","platform","match","metaKey","ctrlKey","preventDefault","stopPropagation","onbeforeunload","returnValue","removeEventListener","src","wot","alt","logo","permalink","encodeURI","clipboard","writeText","err","inputLabel","inputValue","showCloseButton","select","display","UPDATE_OFFLINE_TD","UPDATE_IS_MODFIED","SET_FILE_HANDLE","REMOVE_FORM_FROM_TD","ADD_PROPERTYFORM_TO_TD","ADD_ACTIONFORM_TO_TD","ADD_EVENTFORM_TO_TD","REMOVE_ONE_OF_A_KIND_FROM_TD","editdorReducer","updateOfflineTDReducer","updateFileHandleReducer","removeFormReducer","oneOfAKindName","addPropertyFormReducer","addActionFormReducer","addEventFormReducer","GlobalState","useReducer","editdorState","dispatch","Provider","dragElement","direction","md","second","onMouseMove","delta","clientX","clientY","Math","min","max","firstWidth","secondWidth","left","offsetLeft","onmousedown","offsetTop","offsetWidth","onmousemove","onmouseup","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","process","origin","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6f99440b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/editdor.6cac600d.png\";","module.exports = __webpack_public_path__ + \"static/media/WoT.89768410.png\";","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\n\nexport default React.createContext({\n  offlineTD: '',\n  theme: 'dark',\n  isModified: false,\n  name: '',\n  fileHandle:'',\n  updateOfflineTD: td => {},\n  updateIsModified: isModified => {},\n  setFileHandle: handle => {},\n  removeForm: form => {},\n  addForm: form => {},\n  addActionForm: params => {},\n  addEventForm: params => {},\n  removeOneOfAKindReducer: (kind, oneOfAKind) => {}\n});","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n/**\n * \n * @param {*} firstAttribute \n * @param {*} object \n * @param {*} dontRender is a list of keys that shouldn't be packed into the attribute list.\n * \n * @description\n * Parses all key-value pairs of an object into an object'. \n */\nexport const buildAttributeListObject = (firstAttribute, object, dontRender) => {\n    let attributeListObject = { ...firstAttribute }\n\n    for (const [key, value] of Object.entries(object)) {\n        if (!dontRender.includes(key)) {\n            attributeListObject[key] = value\n        }\n    }\n\n    return attributeListObject;\n}\n\n/**\n * \n * @param {*} forms \n * \n * @description\n * Converts Forms that have an array as the \"op\" value into multiple separate Forms \n * which only have a string as \"op\" value.\n */\nexport const separateForms = (forms) => {\n    if (forms === undefined && !forms) {\n        return []\n    }\n\n    const newForms = [];\n\n    for (let i = 0; i < forms.length; i++) {\n        const form = forms[i];\n\n        if (!Array.isArray(form.op)) {\n            newForms.push(form);\n            continue;\n        }\n\n        for (let i = 0; i < form.op.length; i++) {\n            const temp = { ...form };\n            temp.op = form.op[i];\n            newForms.push(temp);\n        }\n    }\n\n    return newForms;\n}\n\n\n\n/**\n * \n * @param {itemToCheck} itemToCheck \n * \n * Checks if item contains Forms\n * \n */\nexport const hasForms = (itemToCheck) => {\n    return itemToCheck.forms ? true : false;\n}\n\nexport const checkIfFormIsInItem = (form, itemToCheck) => {\n    for (const element of itemToCheck.forms) {\n        if (typeof (form.op) === \"string\") {\n            return checkIfFormIsInElement(form, element)\n        } else {\n            for (const x of form.op) {\n                if (typeof (element.op) === 'string') {\n                    if (element.op === x) {\n                        return true;\n                    }\n                } else {\n                    if (element.op.includes(x)) {\n                        let deepCompare = true;\n                        for (const y in form) {\n                            if (y !== 'op') {\n                                if (element[y] !== form[y]) {\n                                    deepCompare = false;\n                                }\n                            }\n                        }\n                        if (deepCompare)\n                            return true\n                    }\n                }\n            }\n        }\n    }\n    return false\n}\n\nconst checkIfFormIsInElement = (form, element) => {\n    if (typeof (element.op) === 'string') {\n        if (element.op === form.op) {\n            return true;\n        }\n    } else {\n        if (element.op.includes(form.op)) {\n            let deepCompare = true;\n            for (const y in form) {\n                if (y !== 'op') {\n                    if (element[y] !== form[y]) {\n                        deepCompare = false;\n                    }\n                }\n            }\n            if (deepCompare)\n                return true\n        }\n    }\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst operationsSelections = (type) => {\n    switch (type) {\n        case 'properties':\n            return `<div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"writeproperty\" id=\"checkbox1\">\n                        <label class=\"form-check-label\" for=\"checkbox1\">\n                        writeproperty\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"readproperty\" id=\"checkbox2\">\n                        <label class=\"form-check-label\" for=\"checkbox2\">\n                        readproperty\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"observeproperty\" id=\"checkbox3\">\n                        <label class=\"form-check-label\" for=\"checkbox3\">\n                        observeproperty\n                    </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"unobserveproperty\" id=\"checkbox4\">\n                        <label class=\"form-check-label\" for=\"checkbox4\">\n                        unobserveproperty\n                        </label>\n                    </div>`;\n        case 'events':\n            return `<div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"subscribeevent\" id=\"checkbox1\">\n                        <label class=\"form-check-label\" for=\"checkbox1\">\n                        subscribeevent\n                        </label>\n                    </div>\n                    <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"checkbox\" value=\"unsubscribeevent\" id=\"checkbox2\">\n                        <label class=\"form-check-label\" for=\"checkbox2\">\n                        unsubscribeevent\n                        </label>\n                    </div>`;\n        case 'forms':\n            return `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"writeallproperties\" id=\"checkbox1\">\n                                    <label class=\"form-check-label\" for=\"checkbox1\">\n                                    writeallproperties\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"readallproperties\" id=\"checkbox2\">\n                                    <label class=\"form-check-label\" for=\"checkbox2\">\n                                    readallproperties\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"writemultipleproperties\" id=\"checkbox3\">\n                                    <label class=\"form-check-label\" for=\"checkbox3\">\n                                    writemultipleproperties\n                                </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"readmultipleproperties\" id=\"checkbox4\">\n                                    <label class=\"form-check-label\" for=\"checkbox4\">\n                                    readmultipleproperties\n                                    </label>\n                                </div>`;\n        default:\n            return ''\n    }\n\n\n};\n\nexport default operationsSelections;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\n\nconst addPropertyForm = async () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('properties'),\n            preConfirm: () => {\n                const operations = ['1', '2', '3', '4'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                form.op = operations    \n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Property is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n             form.href =  propValue[1]\n            return form\n        }\n        return\n    })\n}\n\nexport default addPropertyForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\n\nexport default function Form(props) {\n\n    const formChooser = {\n        \"observeproperty\": <ObserveForm type=\"properties\" form={props.form} propName={props.propName} />,\n        \"unobserveproperty\": <UnobserveForm type=\"properties\" form={props.form} propName={props.propName}/>,\n        \"readproperty\": <ReadForm type=\"properties\" form={props.form} propName={props.propName}/>,\n        \"readmultipleproperties\": <ReadMultipleForm type=\"forms\" form={props.form} formIndex={props.propName}/>,\n        \"readallproperties\": <ReadAllForm type=\"forms\" form={props.form} formIndex={props.propName}/>,\n        \"writeproperty\": <WriteForm type=\"properties\" form={props.form} propName={props.propName}/>,\n        \"writemultipleproperties\": <WriteMultipleForm type=\"forms\" form={props.form} formIndex={props.propName}/>,\n        \"writeallproperties\": <WriteAllForm type=\"forms\" form={props.form} formIndex={props.propName}/>,\n        \"invokeaction\": <InvokeForm type=\"actions\" form={props.form} propName={props.propName}/>,\n        \"unsubscribeevent\": <UnobserveForm type=\"events\" form={props.form} propName={props.propName}/>,\n    }\n\n    if (formChooser[props.form.op]) {\n        return formChooser[props.form.op];\n    }\n\n    if (props.interactionType === \"action\") {\n        return <InvokeForm type=\"actions\" form={props.form} propName={props.propName}/>\n    } else if (props.interactionType === \"event\") {\n        return <ObserveForm type=\"events\" form={props.form} propName={props.propName}/>\n    }\n\n    return <UndefinedForm form={props.form} propName={props.propName}/>\n}\n\nexport function ObserveForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formOrange place-self-center text-center text-xs px-4\">Observe</div>\n            </div>\n            <div className=\"place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function UnobserveForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formRed place-self-center text-center text-xs px-4\">Unobserve</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function ReadForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">Read</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function ReadMultipleForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">ReadMultiple</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function ReadAllForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formGreen place-self-center text-center text-xs px-4\">ReadAll</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function WriteForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">Write</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function WriteMultipleForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">WriteMultiple</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function WriteAllForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue\">\n            <div className=\"flex h-6 w-18 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formBlue place-self-center text-center text-xs px-4\">WriteAll</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function InvokeForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"text-formRed place-self-center text-center text-xs px-4\">Invoke</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base text-white overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}\n\nexport function UndefinedForm(props) {\n    const context = useContext(ediTDorContext)\n    const deleteForm = (e) => {\n        context.removeForm(e)\n    }\n    return (\n        <div className=\"flex flex-row items-center justify-start h-10 w-full bg-gray-300 rounded-md px-4 mt-2 bg-opacity-75 border-2 border-gray-300\">\n            <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                <div className=\"place-self-center text-center text-xs px-4\">Undefined</div>\n            </div>\n            <div className=\" place-self-center pl-3 text-base overflow-hidden flex-grow\">{props.form.href}</div>\n            <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-white\" onClick={() => deleteForm(props)}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n            </button>\n        </div>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\nimport { Info } from 'react-feather';\nimport ReactTooltip from 'react-tooltip';\n\n/**\n * Display an info icon that shows a information text when hovered\n * next to the child.\n *\n * The parameter tooltip a TooltipContent object containing HTML on how\n * the tooltip is rendered and a link that gets called onClick.\n * @param {TooltipContent} tooltip\n * @param {Object} children\n */\nexport const InfoIconWrapper = (props) => {\n    return (\n        <div className=\"flex flex-row items-center\">\n            <div className=\"pr-0.5\">\n                {props.children}\n            </div>\n            <button onClick={() => window.open(props.tooltip.href, \"_blank\")}>\n                <InfoIcon html={props.tooltip.html} />\n            </button>\n            <div className=\"p-1\"></div>\n        </div >\n    );\n}\n\n/**\n * Display an info icon that shows a information text when hovered.\n * \n * The parameter html is a String containing HTML for the tooltips layout.\n * @param {String} html\n */\nexport const InfoIcon = (props) => {\n    return (\n        <>\n            <Info color=\"grey\"\n                size=\"16\"\n                data-html={true}\n                data-type=\"info\"\n                data-tip={props.html}\n                data-background-color=\"#2c2c2e\"\n            />\n            <ReactTooltip html={true} type=\"info\" />\n        </ >\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nclass TooltipContent {\n    constructor(html, href) {\n        this.html = html;\n        this.href = href;\n    }\n}\n\nexport const getPropertiesTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Properties</h2>\n                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>\n                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>\n                    <br />\n                    <p>Click to get more information about Properties.</p> \n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#propertyaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getActionsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Actions</h2>\n                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>\n                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>\n                    <br />\n                    <p>Click to get more information about Actions.</p>\n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#actionaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getEventsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Events</h2>\n                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>\n                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>\n                <br />\n                <p>Click to get more information about Events.</p>\n            `\n\n    const href = \"https://www.w3.org/TR/wot-thing-description/#eventaffordance\";\n    return new TooltipContent(html, href);\n}\n\nexport const getFormsTooltipContent = () => {\n    const html = `<h2 class='text-lg'>Web of Things Forms</h2>\n                    <p>A Form contains all information needed to make a request to a device.</p>\n                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>\n                    <br />\n                    <p>Click to get more information about Forms.</p>\n                `\n    const href = \"https://www.w3.org/TR/wot-thing-description/#form\";\n\n    return new TooltipContent(html, href);\n}","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport Swal from \"sweetalert2\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addPropertyForm from \"./AddPropertyForm\";\nimport Form from \"./Form\";\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Property(props) {\n    const context = useContext(ediTDorContext);\n\n    if ((Object.keys(props.prop).length === 0 && props.prop.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Property could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const property = props.prop;\n    const forms = separateForms(props.prop.forms);\n\n    const attributeListObject = buildAttributeListObject({ name: props.propName }, props.prop, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(property)) {\n            return checkIfFormIsInItem(form, property)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addPropertyForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText:\n                        'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText:\n                        'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addForm({ propName: props.propName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addForm({ propName: props.propName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeletePropertyClicked = () => {\n        context.removeOneOfAKindReducer('properties', props.propName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row w-full justify-start items-center\">\n                <h3 className=\"flex-grow\">{property.title ?? props.propName}</h3>\n                <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-gray-400\" onClick={onDeletePropertyClicked}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"text-black\">\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{property.description}</div>\n                <ul className=\"list-disc text-base text-gray-300 pl-8\">{attributes}</ul>\n                <div className=\"flex justify-start items-center\">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button className=\"text-lg h-4 w-4 bg-gray-400 rounded-full\" onClick={onClickAddForm}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                        </svg>\n                    </button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} propName={props.propName} form={form} interactionType={\"property\"} className=\"last:pb-4\"></Form>\n                ))}\n            </div>\n        </details >\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst Swal = require('sweetalert2')\n\n\nconst addActionForm = async () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1']\n    }).queue([\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Action is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n             form.href =  propValue[0]\n             form.op = \"invokeaction\"\n            return form\n        }\n        return\n    })\n}\n\nexport default addActionForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addActionForm from \"./AddActionForm\";\nimport Form from \"./Form\";\nimport Swal from 'sweetalert2'\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Action(props) {\n    const context = useContext(ediTDorContext);\n\n    if ((Object.keys(props.action).length === 0 && props.action.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Action could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const action = props.action;\n    const forms = separateForms(props.action.forms);\n    const attributeListObject = buildAttributeListObject({ name: props.actionName }, props.action, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(action)) {\n            return checkIfFormIsInItem(form, action)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addActionForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText:\n                        'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText:\n                        'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addActionForm({ actionName: props.actionName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addActionForm({ actionName: props.actionName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeleteActionClicked = () => {\n        context.removeOneOfAKindReducer('actions', props.actionName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row justify-start items-center\">\n                <div className=\"flex-grow\">{action.title ?? props.actionName}</div>\n                <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-gray-400\" onClick={onDeleteActionClicked}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"text-black\">\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{action.description}</div>\n                <ul className=\"text-base text-gray-300 list-disc pl-8\">{attributes}</ul>\n                <div className=\"flex flex-row items-center \">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button className=\"text-lg h-4 w-4 bg-gray-400 rounded-full\" onClick={onClickAddForm}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                        </svg></button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} form={form} propName={props.actionName} interactionType={\"action\"}></Form>\n                ))}\n            </div>\n        </details>\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addEventForm = () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Event Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('events'),\n            preConfirm: () => {\n                const operations = ['1', '2'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                console.log('operations', operations)\n                form.op = operations\n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Event is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n            form.href = propValue[1]\n            return form\n            \n        }\n        return\n    })\n}\nexport default addEventForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from \"react\";\nimport \"../../assets/main.css\"\nimport ediTDorContext from \"../../context/ediTDorContext\";\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from \"../../util.js\"\nimport addEventForm from \"./AddEventForm\";\nimport Form from \"./Form\";\nimport Swal from 'sweetalert2'\nimport { InfoIconWrapper } from \"../InfoIcon/InfoIcon\";\nimport { getFormsTooltipContent } from \"../InfoIcon/InfoTooltips\";\n\nconst alreadyRenderedKeys = [\"title\", \"forms\", \"description\"];\n\nexport default function Event(props) {\n    const context = useContext(ediTDorContext);\n    if ((Object.keys(props.event).length === 0 && props.event.constructor !== Object)) {\n        return <div className=\"text-3xl text-white\">Event could not be rendered because mandatory fields are missing.</div>\n    }\n\n    const event = props.event;\n    const forms = separateForms(props.event.forms);\n    const attributeListObject = buildAttributeListObject({ name: props.eventName }, props.event, alreadyRenderedKeys);\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n    const checkIfFormExists = (form) => {\n        if (hasForms(event)) {\n            return checkIfFormIsInItem(form, event)\n        }\n        return false\n    }\n\n    const onClickAddForm = async () => {\n        const formToAdd = await addEventForm()\n        if (formToAdd) {\n            if (checkIfFormExists(formToAdd)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText:\n                        'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText:\n                        'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        context.addEventForm({ eventName: props.eventName, form: formToAdd })\n                    }\n                })\n            } else {\n                context.addEventForm({ eventName: props.eventName, form: formToAdd })\n            }\n        }\n    }\n\n    const onDeleteEventClicked = () => {\n        context.removeOneOfAKindReducer('events', props.eventName)\n    }\n\n    return (\n        <details>\n            <summary className=\"text-xl text-gray-400 flex flex-row justify-start items-center\">\n                <div className=\"flex-grow\">{event.title ?? props.eventName}</div>\n                <button className=\"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-gray-400\" onClick={onDeleteEventClicked}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"text-black\">\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                </button>\n            </summary>\n            <div className=\"mb-4\">\n                <div className=\"text-lg text-gray-400 pb-2\">{event.description}</div>\n                <ul className=\"text-base text-gray-300 list-disc pl-8\">{attributes}</ul>\n                <div className=\"flex flex-row items-center \">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper className=\" flex-grow\" tooltip={getFormsTooltipContent()}>\n                            <h4 className=\"text-lg text-gray-400 pr-1 text-bold\">Forms</h4>\n                        </InfoIconWrapper>\n                    </div>\n                    <button className=\"text-lg h-4 w-4 bg-gray-400 rounded-full\" onClick={onClickAddForm}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                        </svg>\n                    </button>\n                </div>\n                {forms.map((form, i) => (\n                    <Form key={i} form={form} propName={props.eventName} interactionType={\"event\"}></Form>\n                ))}\n            </div>\n        </details>\n    )\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\n\nconst addProperty = async () => {\n    let property = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2', '3']\n    }).queue([\n        {\n            title: 'Propertytitle',\n            text: 'Please enter a name for your new Property'\n        },\n        {\n            title: 'Propertytype',\n            text: 'Please enter a type for your new Property',\n            input: 'select',\n            inputOptions: {\n                number: 'number',\n                integer: 'integer',\n                boolean: 'boolean',\n                string: 'string',\n                object: 'object',\n                array: 'array',\n            },\n            inputPlaceholder: 'Select a type',\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Property?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null,\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[2]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1', '2']\n                }).queue([\n                    {\n                        text: 'Select an Operation or multiple Operations',\n                        html: operationsSelections('properties'),\n                        preConfirm: () => {\n                            const operations = ['1', '2', '3', '4'].map(x => {\n                                return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                            }).filter(y => y !== undefined);\n                            result.value[3] = operations\n                        }\n                    },\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Property is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const propValue = prop.value\n                        const resultValue = result.value\n                        property = {\n                            title: resultValue[0],\n                            type: resultValue[1],\n                            forms: [\n                                {\n                                    op: resultValue[3],\n                                    href: propValue[1]\n                                }\n                            ]\n                        }  \n                        return property \n                    }\n                    return \n                })\n            }\n            const resultValue = result.value\n            if (!result[2]) {\n                property = {\n                    title: resultValue[0],\n                    type: resultValue[1]\n                }\n            }\n            console.log(`Property`, property)\n            return property\n        }\n        return\n    })\n}\n\nexport default addProperty;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nconst Swal = require('sweetalert2')\n\n\nconst addAction = () => {\n    let action = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            title: 'Actiontitle',\n            text: 'Please enter a name for your new Action'\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Action?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[1]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1']\n                }).queue([\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Action is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const resultValue = result.value\n                        const propValue = prop.value\n                        action = {\n                            title: resultValue[0],\n                            forms: [\n                                {\n                                    op: 'invokeaction',\n                                    href: propValue[0]\n                                }\n                            ]\n                        }\n                        return action\n                    }\n                    return\n                })\n            }\n                const resultValue = result.value\n                if (!resultValue[1]) {\n                    action = {\n                        title: resultValue[0],\n                    }\n                }\n                return action\n            }\n            return\n    })\n}\n\nexport default addAction","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addEvent = () => {\n    let event = {};\n    return Swal.mixin({\n        input: 'text',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            title: 'Eventtitle',\n            text: 'Please enter a name for your new Event'\n        },\n        {\n            title: 'Add a Form ',\n            text: 'Do you want to add a form to your Event?',\n            focusConfirm: true,\n            confirmButtonText: 'Yes',\n            showCancelButton: false,\n            showDenyButton: true,\n            denyButtonText: 'No',\n            input: null\n        }\n    ]).then((result) => {\n        if (!result.dismiss) {\n            if (result.value[1]) {\n                return Swal.mixin({\n                    title: 'Add Form',\n                    confirmButtonText: 'Next &rarr;',\n                    showCancelButton: true,\n                    progressSteps: ['1', '2']\n                }).queue([\n                    {\n                        text: 'Select an Operation or multiple Operations',\n                        html: operationsSelections('events'),\n                        preConfirm: () => {\n                            const operations = ['1', '2'].map(x => {\n                                return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                            }).filter(y => y !== undefined);\n                            console.log('operations', operations)\n                            result.value[2] = operations\n                        }\n                    },\n                    {\n                        input: 'text',\n                        title: 'Form Href',\n                        text: 'Please enter a href where your Event is reachable'\n                    }\n                ]).then((prop) => {\n                    if (!prop.dismiss) {\n                        const resultValue = result.value\n                        const propValue = prop.value\n                        event = {\n                            title: resultValue[0],\n                            forms: [\n                                {\n                                    op: resultValue[2],\n                                    href: propValue[1]\n                                }\n                            ]\n                        }\n                        return event\n                    }\n                    return\n                })\n            }\n            const resultValue = result.value\n\n            if (!resultValue[1]) {\n                event = {\n                    title: resultValue[0],\n                }\n            }\n            return event\n        }\n        return;\n    })\n}\n\nexport default addEvent;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport operationsSelections from './OperationsSelections';\nconst Swal = require('sweetalert2')\n\nconst addGlobalForm = () => {\n    let form = {};\n    return Swal.mixin({\n        title: 'Add Form',\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2']\n    }).queue([\n        {\n            text: 'Select an Operation or multiple Operations',\n            html: operationsSelections('forms'),\n            preConfirm: () => {\n                const operations = ['1', '2', '3', '4'].map(x => {\n                    return document.getElementById('checkbox' + x).checked ? document.getElementById('checkbox' + x).value : undefined\n                }).filter(y => y !== undefined);\n                form.op = operations\n            }\n        },\n        {\n            input: 'text',\n            title: 'Form Href',\n            text: 'Please enter a href where your Form is reachable'\n        }\n    ]).then((prop) => {\n        if (!prop.dismiss) {\n            const propValue = prop.value\n            form.href =  propValue[1]\n            return form\n        }\n        return\n    })\n}\n\nexport default addGlobalForm;","/********************************************************************************\n * Copyright (c) 2018 - 2021 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext } from 'react';\nimport Property from './Property';\nimport Action from './Action';\nimport Event from './Event';\nimport ediTDorContext from '../../context/ediTDorContext';\nimport addProperty from './AddProperty';\nimport addAction from './AddAction';\nimport addEvent from './AddEvent';\nimport addGlobalForm from './AddForm';\nimport { buildAttributeListObject, checkIfFormIsInItem, hasForms, separateForms } from '../../util';\nimport '../../assets/main.css';\nimport Form from './Form';\nimport Swal from 'sweetalert2';\nimport { InfoIconWrapper } from '../InfoIcon/InfoIcon';\nimport { getPropertiesTooltipContent, getActionsTooltipContent, getEventsTooltipContent, getFormsTooltipContent } from '../InfoIcon/InfoTooltips';\nlet tdJSON = {};\nlet first = true;\nlet firstFilterOfEvents = true;\nlet firstFilterOfActions = true;\nlet unfilteredProps = {};\nlet unfilteredEvents = {};\nlet unfilteredActions = {};\nlet oldtdJSON = {};\nlet error = \"\";\nlet sortorder = 'asc';\n\nconst JSON_SPACING = 2;\n\nexport default function TDViewer() {\n    const context = useContext(ediTDorContext);\n    try {\n        oldtdJSON = tdJSON;\n        tdJSON = JSON.parse(context.offlineTD);\n        error = '';\n    } catch (e) {\n        error = e.message;\n        tdJSON = oldtdJSON;\n    }\n\n\n    if (!Object.keys(tdJSON).length) {\n        return (\n            <div className=\"flex h-full w-full bg-gray-500 justify-center align-center text-center \">\n                <div className=\"text-4xl text-white place-self-center\">Start writing a new TD by clicking \"New TD\"</div>\n            </div>\n        )\n    }\n\n    const onClickAddEvent = async () => {\n        const eventToAdd = await addEvent()\n        if (eventToAdd) {\n            addSubfieldToExistingTD('events', eventToAdd.title, eventToAdd)\n        }\n    }\n\n    const onClickAddAction = async () => {\n        const actionToAdd = await addAction()\n        if (actionToAdd) {\n            addSubfieldToExistingTD('actions', actionToAdd.title, actionToAdd)\n        }\n    }\n\n    const onClickAddProp = async () => {\n        const propToAdd = await addProperty()\n        if (propToAdd) {\n            addSubfieldToExistingTD('properties', propToAdd.title, propToAdd)\n        }\n    }\n\n    const onClickAddGlobalForm = async () => {\n        const formToAdd = await addGlobalForm();\n        if (formToAdd) {\n            if (!hasForms(tdJSON)) {\n                tdJSON.forms = [];\n            }\n            if (checkIfFormIsInItem(formToAdd, tdJSON)) {\n                Swal.fire({\n                    title: 'Duplication?',\n                    html: 'A Form with same fields already exists, are you sure you want to add this?',\n                    icon: 'warning',\n                    confirmButtonText:\n                        'Yes',\n                    confirmButtonAriaLabel: 'Yes',\n                    showCancelButton: true,\n                    cancelButtonText:\n                        'No',\n                    cancelButtonAriaLabel: 'No'\n                }).then(x => {\n                    if (x.isConfirmed) {\n                        tdJSON.forms.push(formToAdd)\n                        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n                    }\n                })\n            }\n            tdJSON.forms.push(formToAdd)\n            context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n        }\n    }\n\n\n    const addSubfieldToExistingTD = (type, name, property) => {\n        if (!tdJSON[type]) {\n            tdJSON[type] = {};\n        }\n        tdJSON[type][name] = property\n        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n    }\n\n    let properties;\n    let forms;\n    let actions;\n    let events;\n    let metaData;\n\n    if (tdJSON) {\n        if (tdJSON.forms) {\n            const formsSeparated = separateForms(tdJSON.forms);\n            forms = formsSeparated.map((key, index) => {\n                return (<Form form={key} propName={index} key={index} />);\n            });\n        }\n        if (tdJSON.properties) {\n            properties = Object.keys(tdJSON.properties).map((key, index) => {\n                return (<Property base={tdJSON.base}\n                    prop={tdJSON.properties[key]} propName={key} key={index} />);\n            });\n        }\n        if (tdJSON.actions) {\n            actions = Object.keys(tdJSON.actions).map((key, index) => {\n                return (<Action action={tdJSON.actions[key]} actionName={key} key={index} />);\n            });\n        }\n        if (tdJSON.events) {\n            events = Object.keys(tdJSON.events).map((key, index) => {\n                return (<Event event={tdJSON.events[key]} eventName={key} key={index} />);\n            });\n        }\n\n        metaData = tdJSON;\n    }\n\n    const alreadyRenderedKeys = [\"id\", \"properties\", \"actions\", \"events\", \"forms\", \"description\", \"title\",];\n\n    const attributeListObject = buildAttributeListObject(tdJSON.id ? { id: tdJSON.id } : {}, tdJSON, alreadyRenderedKeys);\n\n    const attributes = Object.keys(attributeListObject).map(x => {\n        return <li key={x}>{x} : {JSON.stringify(attributeListObject[x])}</li>\n    });\n\n\n    const sortKeysInObject = (kind) => {\n        const ordered = {};\n        const toSort = Object.keys(tdJSON[kind]).map(x => {\n            return { key: x, title: tdJSON[kind][x].title }\n        })\n        if (sortorder === 'asc') {\n            toSort.sort((a, b) => {\n                const nameA = a.title ? a.title : a.key;\n                const nameB = b.title ? b.title : b.key;\n                return nameA.localeCompare(nameB)\n            }).forEach(function (sortedObject) {\n                ordered[sortedObject.key] = tdJSON[kind][sortedObject.key];\n            });\n            sortorder = 'desc'\n        } else {\n            toSort.sort((a, b) => {\n                const nameA = a.title ? a.title : a.key;\n                const nameB = b.title ? b.title : b.key;\n                return nameA.localeCompare(nameB)\n            }).reverse().forEach(function (sortedObject) {\n                ordered[sortedObject.key] = tdJSON[kind][sortedObject.key];\n            });\n            sortorder = 'asc'\n        }\n        tdJSON[kind] = ordered\n        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n    }\n\n    const search = (event) => {\n        if (first) {\n            console.log(first)\n            unfilteredProps = tdJSON.properties\n            first = false\n        }\n        let sortedProps = {};\n        if (event.target.value.length === 0) {\n            sortedProps = unfilteredProps;\n        } else {\n            Object.keys(unfilteredProps).filter(x => {\n                if (x.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }).forEach(y => {\n                sortedProps[y] = unfilteredProps[y]\n            })\n        }\n        tdJSON.properties = sortedProps;\n        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n    }\n\n    const searchActions = (event) => {\n        if (firstFilterOfActions) {\n            unfilteredActions = tdJSON.actions\n            firstFilterOfActions = false\n        }\n        let sortedActions = {};\n        if (event.target.value.length === 0) {\n            sortedActions = unfilteredActions;\n        } else {\n            Object.keys(unfilteredActions).filter(x => {\n                if (x.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }).forEach(y => {\n                sortedActions[y] = unfilteredActions[y]\n            })\n        }\n        tdJSON.actions = sortedActions;\n        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n    }\n\n    const searchEvents = (event) => {\n        if (firstFilterOfEvents) {\n            console.log(first)\n            unfilteredEvents = tdJSON.events\n            firstFilterOfEvents = false\n        }\n        let sortedEvents = {};\n        if (event.target.value.length === 0) {\n            sortedEvents = unfilteredEvents;\n        } else {\n            Object.keys(unfilteredEvents).filter(x => {\n                if (x.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }).forEach(y => {\n                sortedEvents[y] = unfilteredEvents[y]\n            })\n        }\n        tdJSON.events = sortedEvents;\n        context.updateOfflineTD(JSON.stringify(tdJSON, null, JSON_SPACING))\n    }\n\n    const sortedIcon = () => {\n        if (sortorder === 'asc') {\n            return (<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\n                <path d=\"M6 22l6-8h-4v-12h-4v12h-4l6 8zm11.694-19.997h2.525l3.781 10.997h-2.421l-.705-2.261h-3.935l-.723 2.261h-2.336l3.814-10.997zm-.147 6.841h2.736l-1.35-4.326-1.386 4.326zm-.951 11.922l3.578-4.526h-3.487v-1.24h5.304v1.173l-3.624 4.593h3.633v1.234h-5.404v-1.234z\" />\n            </svg>)\n        } else {\n            return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"#ffffff\">\n                <path d=\"M6 2l-6 8h4v12h4v-12h4l-6-8zm11.694.003h2.525l3.781 10.997h-2.421l-.705-2.261h-3.935l-.723 2.261h-2.336l3.814-10.997zm-.147 6.841h2.736l-1.35-4.326-1.386 4.326zm-.951 11.922l3.578-4.526h-3.487v-1.24h5.304v1.173l-3.624 4.593h3.633v1.234h-5.404v-1.234z\" />\n            </svg>\n        }\n    }\n\n    return (\n        <div className=\"h-full w-full bg-gray-500 p-8 overflow-scroll overflow-x-hidden\">\n            {(error.length > 0 && (\n                <div className=\"flex h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed\">\n                    <div className=\"flex h-6 w-16 bg-white rounded-md place-self-center justify-center\">\n                        <div className=\"text-formRed place-self-center text-center text-xs px-4\">Error</div>\n                    </div>\n                    <div className=\" place-self-center pl-3 text-base text-white overflow-hidden\">{error}</div>\n                </div>))}\n            {(metaData !== undefined && Object.keys(metaData).length > 0) && (\n                <div>\n                    <div className=\"text-3xl text-white\">{metaData.title}</div>\n                    <ul className=\"list-disc text-lg text-gray-400 pt-1 pl-8 \">{attributes}</ul>\n                    <div className=\"text-xl text-white pt-4\">{metaData.description}</div>\n                </div>)\n            }\n            <details className=\"pt-8\">\n                <summary className=\"flex justify-start items-center\">\n                    <div className=\"flex flex-grow\">\n                        <InfoIconWrapper tooltip={getFormsTooltipContent()}>\n                            <h2 className=\"text-2xl text-white pr-1 flex-grow\">Forms</h2>\n                        </InfoIconWrapper>\n                    </div>\n                    <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2\" onClick={onClickAddGlobalForm}>Add new Form</button>\n                </summary>\n                {forms && <div className=\"pt-4\"><div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{forms}</div></div>}\n            </details>\n\n            <div className=\"flex justify-start items-end pt-8 pb-4\">\n                <div className=\"flex flex-grow\">\n                    <InfoIconWrapper tooltip={getPropertiesTooltipContent()}>\n                        <h2 className=\"text-2xl text-white pr-1 flex-grow\">Properties</h2>\n                    </InfoIconWrapper>\n                </div>\n                <button className=\"text-white bg-blue-500 cursor-pointer rounded-md p-2\" onClick={() => sortKeysInObject('properties')}>\n                    {sortedIcon()}\n                </button>\n                <div className=\"relative text-gray-600\">\n                    <input type=\"search\" autoComplete=\"on\" className=\"px-5 pr-10 ml-4 mr-4 place-self-center rounded-full text-sm focus:outline-none\" onKeyUp={search} placeholder=\"Search Properties\" aria-label=\"Search through all Properties\" />\n                    <button type=\"submit\" className=\"cursor-default absolute right-0 top-0 mt-1 mr-6\">\n                        <svg className=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{ enableBackground: 'new 0 0 56.966 56.966' }} space=\"preserve\" width=\"512px\" height=\"512px\">\n                            <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\" />\n                        </svg>\n                    </button>\n                </div>\n                <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2\" onClick={onClickAddProp}>Add new Property</button>\n            </div>\n            {properties && <div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{properties}</div>}\n\n            <div className=\"flex justify-between items-end pt-8 pb-4\">\n                <div className=\"flex flex-grow\">\n                    <InfoIconWrapper tooltip={getActionsTooltipContent()}>\n                        <h2 className=\"text-2xl text-white pr-1 flex-grow\">Actions</h2>\n                    </InfoIconWrapper>\n                </div>\n                <button className=\"text-white bg-blue-500 cursor-pointer rounded-md p-2\" onClick={() => sortKeysInObject('actions')}>\n                    {sortedIcon()}\n                </button>\n                <div className=\"relative text-gray-600\">\n                    <input type=\"search\" autoComplete=\"on\" className=\"px-5 pr-10 ml-4 mr-4 place-self-center rounded-full text-sm focus:outline-none\" onKeyUp={searchActions} placeholder=\"Search Actions\" aria-label=\"Search through all Properties\" />\n                    <button type=\"submit\" disabled className=\"cursor-default absolute right-0 top-0 mt-1 mr-6\">\n                        <svg className=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{ enableBackground: 'new 0 0 56.966 56.966' }} space=\"preserve\" width=\"512px\" height=\"512px\">\n                            <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\" />\n                        </svg>\n                    </button>\n                </div>\n                <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2\" onClick={onClickAddAction}>Add new Action</button>\n            </div>\n            {actions && <div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{actions}</div>}\n\n            <div className=\"flex justify-between items-end pt-8 pb-4\">\n                <div className=\"flex flex-grow\">\n                    <InfoIconWrapper tooltip={getEventsTooltipContent()}>\n                        <h2 className=\"text-2xl text-white pr-1 flex-grow\">Events</h2>\n                    </InfoIconWrapper>\n                </div>\n                <button className=\"text-white bg-blue-500 cursor-pointer rounded-md p-2\" onClick={() => sortKeysInObject('events')}>\n                    {sortedIcon()}\n                </button>\n                <div className=\"relative text-gray-600\">\n                    <input type=\"search\" autoComplete=\"on\" className=\"px-5 pr-10 ml-4 mr-4 place-self-center rounded-full text-sm focus:outline-none\" onKeyUp={searchEvents} placeholder=\"Search Events\" aria-label=\"Search through all Properties\" />\n                    <button disabled type=\"submit\" className=\"cursor-default absolute right-0 top-0 mt-1 mr-6\">\n                        <svg className=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{ enableBackground: 'new 0 0 56.966 56.966' }} space=\"preserve\" width=\"512px\" height=\"512px\">\n                            <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\" />\n                        </svg>\n                    </button>\n                </div>\n                <button className=\"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2\" onClick={onClickAddEvent}>Add new Event</button>\n            </div>\n            {events && <div className=\"rounded-lg bg-gray-600 px-6 pt-4 pb-4\">{events}</div>}\n            <div className=\"h-16\"></div>\n        </div >\n    );\n}\n\n\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useContext, useState, useRef } from 'react';\nimport MonacoEditor from 'react-monaco-editor';\nimport ediTDorContext from '../../context/ediTDorContext';\n\nconst mapping = require('../../assets/mapping.json')\n\nconst tdSchema = {\n  fileMatch: [\"*/*\"],\n  uri: \"https://raw.githubusercontent.com/thingweb/thingweb-playground/%40thing-description-playground/web%401.0.0/packages/playground-core/td-schema.json\"\n};\n\n//List of all Options can be found here: https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.ieditorconstructionoptions.html\nconst editorOptions = {\n  selectOnLineNumbers: true,\n  automaticLayout: true,\n  lineDecorationsWidth: 20\n};\n\nconst JSONEditorComponent = (props) => {\n  const context = useContext(ediTDorContext);\n  const [schemas] = useState([]);\n  const [proxy, setProxy] = useState(undefined);\n  const editorInstance = useRef(null);\n\n\n  const editorWillMount = (monaco) => {\n    monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n      validate: true,\n      enableSchemaRequest: true,\n      schemas: [tdSchema]\n    });\n    if (!(\"Proxy\" in window)) {\n      console.warn(\"Your browser doesn't support Proxies.\");\n      return;\n    }\n\n    let proxy = new Proxy(schemas, {\n      set: function (target, property, value, _) {\n        target[property] = value;\n\n        let jsonSchemaObjects = [tdSchema];\n        for (let i = 0; i < target.length; i++) {\n          jsonSchemaObjects.push(\n            {\n              fileMatch: [\"*/*\"],\n              uri: target[i]\n            }\n          );\n        }\n\n        monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\n          validate: true,\n          enableSchemaRequest: true,\n          schemas: jsonSchemaObjects\n        });\n\n        return true;\n\n      },\n    });\n    setProxy(proxy);\n  }\n\n  const editorDidMount = (editor, monaco) => {\n    editor.onDidChangeModelDecorations(() => {\n      const model = editor.getModel();\n      if (model === null || model.getModeId() !== \"json\")\n        return;\n    });\n  }\n\n  const addSchema = (val) => {\n    if (proxy.includes(val)) {\n      return;\n    }\n    proxy.push(val);\n  }\n\n  const removeSchema = (val) => {\n    const index = proxy.indexOf(val);\n    if (index === -1) {\n      return;\n    }\n    proxy.splice(index, 1);\n  }\n\n  const emptySchemas = () => {\n    proxy.splice(0, this.state.proxy.length);\n  }\n\n  const fetchSchema = async (target) => {\n    if (proxy.includes(target)) {\n      return;\n    }\n\n    try {\n      const url = new URL(target);\n      const res = await fetch(url);\n\n      const schema = await res.json();\n      return schema;\n\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n\n\n  const onChange = async (editorText, _) => {\n    try {\n      const json = JSON.parse(editorText);\n      if (!('@context' in json)) {\n        emptySchemas();\n        return;\n      }\n\n      const atContext = json[\"@context\"];\n      \n      // handle if @context is a string\n      if (typeof atContext === 'string') {\n        if (mapping[atContext] !== undefined) {\n          const schema = await fetchSchema(atContext);\n          if (schema) {\n            addSchema(atContext);\n          } else {\n            emptySchemas();\n          }\n          return;\n        }\n      }\n      \n      // handle if @context is an array\n      if (Array.isArray(atContext)) {\n        for (let i = 0; i < atContext.length; i++) {\n          if (typeof atContext[i] === 'string') {\n            if (mapping[atContext] !== undefined) {\n              const schema = await fetchSchema(atContext[i]);\n              if (schema) {\n                addSchema(atContext[i]);\n              }\n            }\n          }\n          if (typeof atContext[i] === 'object') {\n            Object.keys(atContext[i]).forEach(async contextKey => {\n              if (mapping[atContext[i][contextKey]] !== undefined) {\n                const schema = await fetchSchema(mapping[atContext[i][contextKey]]);\n                if (schema) {\n                  addSchema(mapping[atContext[i][contextKey]]);\n                }\n              }\n            })\n          }\n        }\n      }\n      // remove deleted schemas\n      if (Array.isArray(atContext)) {\n        for (let i = 0; i < proxy.length; i++) {\n          const x = Object.keys(mapping).find(key => mapping[key] === proxy[i])\n          if (!atContext.includes(x)) {\n            removeSchema(proxy[i]);\n          }\n        }\n      }\n    } catch (e) {\n    }finally {\n      context.updateOfflineTD(editorText, 'Editor')\n    }\n  }\n\n  return (\n    <div className=\"w-full h-full\">\n      <MonacoEditor\n        options={editorOptions}\n        theme={'vs-' + context.theme}\n        language=\"json\"\n        ref={editorInstance}\n        value={context.offlineTD}\n        editorWillMount={editorWillMount}\n        editorDidMount={editorDidMount}\n        onChange={async (editorText) => { await onChange(editorText) }} />\n    </div>\n  );\n}\n\nexport default JSONEditorComponent","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\n\nexport default function Button(props) {\n    return (\n        <button\n            onClick={props.onClick}\n            className=\"\n                flex\n                bg-blue-400                 \n                hover:bg-blue-300 \n                text-white \n                font-bold \n                py-2 px-5 \n                rounded \n                w-32 \n                h-12\n                text-center \n                cursor-pointer\n                justify-center\n            \">\n            <div className=\"place-self-center\">\n                {props.children}\n            </div>\n        </button>\n    );\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nexport function RequestTdMetadata() {\n    return `${formField(\"ID\", \"urn:thing-id\", \"thing-id\", \"url\")}\n            ${formField(\"Title\", \"Thing Title\", \"thing-title\", \"text\")}\n            ${formField(\"Base\", \"http://www.example.com/thing-path\", \"thing-base\", \"url\")}`;\n};\n\nexport function RequestTdDescription() {\n    return `<textarea rows=\"5\"\n    class=\"bg-gray-200 \n    appearance-none \n    border-2 border-gray-200 rounded w-full \n    py-2 px-4 \n    text-gray-700 \n    leading-tight \n    focus:outline-none \n    focus:bg-white \n    focus:border-blue-500\" \n    id=\"thing-description\" \n    placeholder=\"A short description of what the Thing does...\">`;\n};\n\nexport function RequestTdSecurity() {\n    return `\n    <div class=\"relative\">\n        <select class=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"thing-security\">\n            <option>nosec</option>\n            <option>basic</option>\n            <option>digest</option>\n            <option>bearer</option>\n            <option>psk</option>\n            <option>oauth2</option>\n            <option>apikey</option>\n        </select>\n        <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n            <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/></svg>\n        </div>\n  </div>`;\n};\n\nconst formField = (label, placeholder, id, type) => {\n    return `<div class=\"md:flex md:items-center mb-6\">\n    <div class=\"md:w-1/6\">\n        <label class=\"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4\" for=\"${id}\">\n            ${label}\n        </label>\n    </div>\n    <div class=\"md:w-5/6\">\n        <input class=\"bg-gray-200 \n        appearance-none \n        border-2 border-gray-200 rounded w-full \n        py-2 px-4 \n        text-gray-700 \n        leading-tight \n        focus:outline-none \n        focus:bg-white \n        focus:border-blue-500\" \n        id=\"${id}\" \n        placeholder=\"${placeholder}\"\n        type=\"${type}\">\n    </div>\n</div>`\n}","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nimport * as newTd from './CreateNewTDContent.js';\n\nconst swal = require('sweetalert2');\n\nexport default async function CreateNewTD() {\n    var tdMetadata = {};\n    var tdDescription = \"\";\n    var tdSecurity = \"\";\n\n    return swal.mixin({\n        input: 'text',\n        backdrop: true,\n        reverseButtons: true,\n        confirmButtonText: 'Next &rarr;',\n        showCancelButton: true,\n        progressSteps: ['1', '2', '3']\n    }).queue([\n        {\n            title: 'TD Identifiers',\n            html: newTd.RequestTdMetadata(),\n            input: null,\n            preConfirm: () => {\n                let id = document.getElementById('thing-id').value;\n                let title = document.getElementById('thing-title').value;\n                let base = document.getElementById('thing-base').value;\n\n                tdMetadata = { id: id, title: title, base: base }\n            }\n        },\n        {\n            title: 'TD Description',\n            html: newTd.RequestTdDescription(),\n            input: null,\n            preConfirm: () => {\n                tdDescription = document.getElementById('thing-description').value;\n            }\n\n        },\n        {\n            title: 'TD Security',\n            html: newTd.RequestTdSecurity(),\n            input: null,\n            preConfirm: () => {\n                tdSecurity = document.getElementById('thing-security').value;\n            }\n\n        }\n    ]).then((result) => {\n        if (result.dismiss) {\n            return;\n        }\n\n        var thing = {};\n\n        thing[\"@context\"] = \"https://www.w3.org/2019/wot/td/v1\";\n        thing[\"title\"] = tdMetadata.title !== \"\" ? tdMetadata.title : \"ediTDor Thing\";\n        thing[\"id\"] = tdMetadata.id !== \"\" ? tdMetadata.id : \"urn:editdor-thing-id\";\n\n        if (tdMetadata.base !== \"\") {\n            thing[\"base\"] = tdMetadata.base !== \"\" ? tdMetadata.base : \"/\";\n        }\n\n        if (tdDescription !== \"\") {\n            thing[\"description\"] = tdDescription;\n        }\n\n        let securityDefinitions = {};\n        securityDefinitions[`${tdSecurity}_sc`] = { scheme: tdSecurity };\n\n        thing[\"securityDefinitions\"] = securityDefinitions;\n        thing[\"security\"] = `${tdSecurity}_sc`;\n\n        thing[\"properties\"] = {};\n        thing[\"actions\"] = {};\n        thing[\"events\"] = {};\n\n        return thing;\n    })\n}\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useCallback, useContext, useEffect } from 'react';\nimport logo from \"../../../assets/editdor.png\"\nimport wot from \"../../../assets/WoT.png\"\nimport ediTDorContext from '../../../context/ediTDorContext';\nimport '../../../assets/main.css'\nimport './Button.js'\nimport Button from './Button.js';\nimport CreateNewTD from './CreateNewTD.js';\nimport Swal from 'sweetalert2';\n\nexport default function AppHeader() {\n    const context = useContext(ediTDorContext);\n\n    /**\n    * Check if the Browser Supports the new Native File System Api (Chromium 86.0)\n    */\n    const hasNativeFS = useCallback(() => {\n        return 'chooseFileSystemEntries' in window || 'showOpenFilePicker' in window\n    }, []);\n\n    const verifyDiscard = useCallback(async () => {\n        if (!context.isModified) {\n            return true;\n        }\n\n        console.log('verifyDiscard', context.isModified)\n        const msg = 'Discard changes? All changes you made to your TD will be lost.';\n        return await window.confirm(msg);\n    }, [context.isModified]);\n\n\n    /**\n     * \n     * @param {*} file \n     * \n     * Read file content\n     */\n    const read = useCallback((file) => {\n        return file.text ? file.text() : _readFileHTML5(file);\n    }, [])\n\n    const readFile = useCallback(async (file, fileHandle) => {\n        try {\n            context.updateOfflineTD(await read(file));\n            context.setFileHandle(fileHandle || file.name);\n            context.updateIsModified(false)\n        } catch (ex) {\n            const msg = `An error occured reading ${context.offlineTD}`;\n            console.error(msg, ex);\n            //TODO: Replace with SweetAlert2\n            alert(msg);\n        }\n    }, [context, read]);\n\n    /**\n     * \n     * @param {*} _ \n     * \n     * Open File from Filesystem\n     */\n    const openFile = useCallback(async (_) => {\n        if (!await verifyDiscard()) {\n            return;\n        }\n\n        if (!hasNativeFS()) {\n            const file = await getFileHTML5();\n            if (file) {\n                await readFile(file);\n            }\n            return;\n        }\n\n        let fileHandle;\n        try {\n            fileHandle = await getFileHandle();\n            const file = await fileHandle.getFile();\n            await readFile(file, fileHandle);\n        } catch (ex) {\n            const msg = 'We ran into an error trying to open your TD.';\n            console.error(msg, ex);\n            alert(msg);\n        }\n    }, [readFile, verifyDiscard, hasNativeFS]);\n\n    const writeFile = useCallback(async (fileHandle, contents) => {\n        if (fileHandle.createWriter) {\n            const writer = await fileHandle.createWriter();\n            await writer.write(0, contents);\n            await writer.close();\n            return;\n        }\n\n        const writable = await fileHandle.createWritable();\n        await writable.write(contents);\n        await writable.close();\n\n        // refresh td for rendered view\n        setTimeout(() => {\n            context.updateOfflineTD(contents, 'AppHEader');\n            context.updateIsModified(false);\n        }, 500);\n    }, [context])\n\n    const saveAsHTML5 = useCallback((filename, contents) => {\n        const aDownload = document.getElementById('aDownload');\n        filename = filename || 'untitled.txt';\n        const opts = { type: 'text/plain' };\n        const file = new File([contents], '', opts);\n        aDownload.href = window.URL.createObjectURL(file);\n        aDownload.setAttribute('download', filename);\n        aDownload.click();\n    }, []);\n\n    const saveFileAs = useCallback(async () => {\n        if (!hasNativeFS()) {\n            saveAsHTML5(context.name, context.offlineTD);\n            return;\n        }\n\n        let fileHandle;\n        try {\n            fileHandle = await getNewFileHandle();\n        } catch (ex) {\n            const msg = 'We ran into an error trying to save your TD.';\n            console.error(msg, ex);\n            return alert(msg);\n        }\n\n        try {\n            await writeFile(fileHandle, context.offlineTD);\n            context.setFileHandle(fileHandle);\n            context.updateIsModified(false);\n        } catch (ex) {\n            const msg = 'Unfortunately we were unable to save your TD.';\n            console.error(msg, ex);\n            alert(msg);\n        }\n    }, [saveAsHTML5, hasNativeFS, context, writeFile]);\n\n    const newFile = useCallback(async () => {\n        const thing = await CreateNewTD();\n        if (thing) {\n            context.updateOfflineTD(JSON.stringify(thing, null, \"\\t\"), 'AppHEader');\n        }\n    }, [context]);\n\n    const saveFile = useCallback(async () => {\n        try {\n            if (!context.fileHandle) {\n                return await saveFileAs();\n            }\n            await writeFile(context.fileHandle, context.offlineTD);\n\n        } catch (ex) {\n            const msg = 'Unfortunately we were unable to save your TD.';\n            console.error(msg, ex);\n            alert(msg);\n        }\n    }, [context, saveFileAs, writeFile])\n\n    /**\n     * Reading files with HTML5 input\n     */\n    const getFileHTML5 = async () => {\n        return new Promise((resolve, reject) => {\n            const fileInput = document.getElementById('fileInput');\n            fileInput.onchange = (e) => {\n                const file = fileInput.files[0];\n                if (file) {\n                    return resolve(file);\n                }\n                return reject(new Error('AbortError'));\n            };\n            fileInput.click();\n        });\n    };\n\n    /**\n     * File Handle from native filesystem api\n     * Only JSON/JSON+LD Files are supported\n     */\n    const getFileHandle = () => {\n        const opts = {\n            types: [{\n                description: 'Thing Description',\n                accept: { 'application/ld+json': ['.jsonld', '.json'] },\n            }],\n        };\n        if ('showOpenFilePicker' in window) {\n            return window.showOpenFilePicker(opts).then((handles) => handles[0]);\n        }\n        return window.chooseFileSystemEntries();\n    }\n\n    const getNewFileHandle = async () => {\n        // new file system api\n        if ('showSaveFilePicker' in window) {\n            const opts = {\n                types: [{\n                    description: 'Thing Description',\n                    accept: { 'application/ld+json': ['.jsonld', '.json'] },\n                }],\n            };\n\n            return await window.showSaveFilePicker(opts);\n        }\n\n        // old html file input\n        const opts = {\n            type: 'save-file',\n            accepts: [{\n                description: 'Thing Description',\n                extensions: ['.jsonld', '.json'],\n                mimeTypes: ['application/ld+json'],\n            }],\n        };\n\n        return await window.chooseFileSystemEntries(opts);\n    }\n\n    const _readFileHTML5 = (file) => {\n        return new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.addEventListener('loadend', (event) => {\n                const text = event.srcElement.result;\n                return resolve(text);\n            });\n            reader.readAsText(file);\n        });\n    }\n\n    const createPermalink = () => {\n        const parse = JSON.parse(context.offlineTD)\n        const permalink = `${window.location.href}?td=${encodeURI(JSON.stringify(parse))}`\n        navigator.clipboard.writeText(permalink).then(function () {\n            console.log('Async: Copying to clipboard was successful!');\n        }, function (err) {\n            console.error('Async: Could not copy text: ', err);\n        });\n        Swal.fire({\n            title: 'Permalink',\n            input: 'text',\n            inputLabel: 'The link was copied to your clipboard',\n            inputValue: permalink,\n            showCloseButton: true,\n        }).then(x => {\n            console.log(x)\n        });\n        setTimeout(() => {\n            const textfield = document.getElementById('swal2-input')\n            textfield.select();\n        }, 500)\n    }\n\n    useEffect(() => {\n        if (window.location.search.indexOf('td') > -1) {\n            const url = new URL(window.location.href);\n            const td = url.searchParams.get(\"td\");\n            const parsedTD = JSON.parse(td)\n            context.updateOfflineTD(JSON.stringify(parsedTD,null,2))\n        }\n        //because the GET Param should be only loaded once, the next line was added \n        // eslint-disable-next-line\n    }, [])\n\n    useEffect(() => {\n        const shortcutHandler = (e) => {\n            if ((window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) && e.key === 's') {\n                e.preventDefault();\n                e.stopPropagation();\n                saveFile();\n            }\n            if ((window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) && e.key === 'o') {\n                e.preventDefault();\n                e.stopPropagation();\n                openFile();\n            }\n            if ((window.navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey) && e.key === 'n') {\n                e.preventDefault();\n                e.stopPropagation();\n                newFile();\n            }\n        }\n\n        // Adding Eventlistener for shortcuts\n        document.addEventListener(\"keydown\", shortcutHandler, false);\n        window.onbeforeunload = function (event) {\n            var message = 'Important: Please click on \\'Save\\' button to leave this page.';\n            if (typeof event == 'undefined') {\n                event = window.event;\n            }\n            if (event) {\n                event.returnValue = message;\n            }\n            return message;\n        };\n        return () => {\n            //Remove Eventlistener for shortcuts before unmounting component\n            document.removeEventListener(\"keydown\", shortcutHandler, false);\n        }\n    }, [openFile, saveFile, newFile, context])\n\n    return (\n        <>\n            <header className=\"flex justify-between items-center h-16 bg-blue-500\">\n                <div className=\"flex items-center\">\n                    <img className=\"pl-2 h-12\" src={wot} alt=\"WOT\" />\n                    <div className=\"w-2\"></div>\n                    <img className=\"pl-2 h-8\" src={logo} alt=\"LOGO\" />\n                </div>\n                <div className=\"flex space-x-2 pr-2\">\n                    <Button onClick={createPermalink}>Create Permalink</Button>\n                    <Button onClick={newFile}>New TD/TM</Button>\n                    <Button onClick={openFile}>Open TD/TM</Button>\n                    <Button onClick={saveFile}>Save</Button>\n                    <Button onClick={saveFileAs}>Save As</Button>\n                </div >\n            </header>\n            <input className=\"h-0\" type=\"file\" id=\"fileInput\" style={{ display: \"none\" }}></input>\n            <a className=\"h-0\" id=\"aDownload\" href=\"/\" style={{ display: \"none\" }}>download</a>\n        </>\n    );\n}\n\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nexport const UPDATE_OFFLINE_TD = 'UPDATE_OFFLINE_TD';\nexport const UPDATE_IS_MODFIED = 'UPDATE_IS_MODFIED';\nexport const SET_FILE_HANDLE = 'SET_FILE_HANDLE';\nexport const REMOVE_FORM_FROM_TD = 'REMOVE_FORM_FROM_TD';\nexport const ADD_PROPERTYFORM_TO_TD = 'ADD_PROPERTYFORM_TO_TD';\nexport const ADD_ACTIONFORM_TO_TD = 'ADD_ACTIONFORM_TO_TD';\nexport const ADD_EVENTFORM_TO_TD = 'ADD_EVENTFORM_TO_TD';\nexport const REMOVE_ONE_OF_A_KIND_FROM_TD = 'REMOVE_ONE_OF_A_KIND_FROM_TD';\n\nconst updateOfflineTDReducer = (offlineTD, state) => {\n  return { ...state, offlineTD, isModified: true };\n};\n\nconst removeFormReducer = (form, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  console.log(form);\n  if (form.type === 'forms') {\n    offlineTD.forms.forEach((element, i) => {\n      if (typeof (element.op) === 'string') {\n          offlineTD.forms.splice(i, 1)\n      } else {\n        if (element.href === form.form.href && element.op.indexOf(form.form.op) !== -1) {\n          element.op.splice(element.op.indexOf(form.form.op), 1)\n        }\n        if (element.op.length === 0) {\n          offlineTD.forms.splice(i, 1)\n        }\n      }\n    });\n  } else {\n    try {\n      offlineTD[form.type][form.propName].forms.forEach((element, i) => {\n        if (typeof (element.op) === 'string') {\n          if (element.href === form.form.href) {\n            offlineTD[form.type][form.propName].forms.splice(i, 1)\n          }\n        } else {\n          if (element.href === form.form.href && element.op.indexOf(form.form.op) !== -1) {\n            element.op.splice(element.op.indexOf(form.form.op), 1)\n          }\n          if (element.op.length === 0) {\n            offlineTD[form.type][form.propName].forms.splice(i, 1)\n          }\n        }\n      });\n    } catch (e) {\n      alert('Sorry we were unable to delete the Form.');\n    }\n  }\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst removeOneOfAKindReducer = (kind, oneOfAKindName, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  try {\n    delete offlineTD[kind][oneOfAKindName]\n  } catch (e) {\n    alert('Sorry we were unable to delete the Form.');\n  }\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addPropertyFormReducer = (form, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const property = offlineTD.properties[form.propName];\n  if (property.forms === undefined) {\n    property.forms = []\n  }\n  property.forms.push(form.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addActionFormReducer = (params, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const action = offlineTD.actions[params.actionName];\n  console.log('ActionForms', action.forms)\n  if (action.forms === undefined) {\n    action.forms = []\n  }\n  action.forms.push(params.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst addEventFormReducer = (params, state) => {\n  let offlineTD = JSON.parse(state.offlineTD)\n  const event = offlineTD.events[params.eventName];\n  if (event.forms === undefined) {\n    event.forms = []\n  }\n  event.forms.push(params.form);\n  return { ...state, offlineTD: JSON.stringify(offlineTD, null, 2) };\n};\n\nconst updateIsModified = (isModified, state) => {\n  return { ...state, isModified: isModified };\n};\n\nconst updateFileHandleReducer = (fileHandle, state) => {\n  return { ...state, fileHandle: fileHandle };\n};\n\nconst editdorReducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_OFFLINE_TD:\n      return updateOfflineTDReducer(action.offlineTD, state);\n    case UPDATE_IS_MODFIED:\n      return updateIsModified(action.isModified, state);\n    case SET_FILE_HANDLE:\n      const newState = updateFileHandleReducer(action.fileHandle, state)\n      return newState;\n    case REMOVE_FORM_FROM_TD:\n      return removeFormReducer(action.form, state)\n    case REMOVE_ONE_OF_A_KIND_FROM_TD:\n      return removeOneOfAKindReducer(action.kind, action.oneOfAKindName, state)\n    case ADD_PROPERTYFORM_TO_TD:\n      return addPropertyFormReducer(action.form, state)\n    case ADD_ACTIONFORM_TO_TD:\n      return addActionFormReducer(action.params, state)\n    case ADD_EVENTFORM_TO_TD:\n      return addEventFormReducer(action.params, state)\n    default:\n      return state;\n  }\n};\n\nexport { editdorReducer }","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useReducer } from 'react';\n\nimport EdiTDorContext from './ediTDorContext';\nimport { editdorReducer, REMOVE_FORM_FROM_TD, SET_FILE_HANDLE, UPDATE_IS_MODFIED, UPDATE_OFFLINE_TD, ADD_PROPERTYFORM_TO_TD, ADD_ACTIONFORM_TO_TD, ADD_EVENTFORM_TO_TD, REMOVE_ONE_OF_A_KIND_FROM_TD } from './editorReducers';\n\n\nconst GlobalState = props => {\n  const [editdorState, dispatch] = useReducer(editdorReducer, { offlineTD: '', theme: 'dark' });\n\n  const updateOfflineTD = (offlineTD, props) => {\n    dispatch({ type: UPDATE_OFFLINE_TD, offlineTD: offlineTD });\n  };\n\n  const updateIsModified = isModified => {\n    dispatch({ type: UPDATE_IS_MODFIED, isModified: isModified });\n  };\n\n  const setFileHandle = fileHandle => {\n    dispatch({ type: SET_FILE_HANDLE, fileHandle: fileHandle });\n  };\n\n  const removeForm = form => {\n    dispatch({ type: REMOVE_FORM_FROM_TD, form: form });\n  };\n\n  const addForm = form => {\n    dispatch({ type: ADD_PROPERTYFORM_TO_TD, form: form });\n  };\n\n  const addActionForm = params => {\n    dispatch({ type: ADD_ACTIONFORM_TO_TD, params: params });\n  };\n  const addEventForm = params => {\n    dispatch({ type: ADD_EVENTFORM_TO_TD, params: params });\n  };\n  const removeOneOfAKindReducer = (kind, oneOfAKindName) => {\n    dispatch({ type: REMOVE_ONE_OF_A_KIND_FROM_TD, kind, oneOfAKindName });\n  };\n\n  return (\n    <EdiTDorContext.Provider\n      value={{\n        offlineTD: editdorState.offlineTD,\n        theme: editdorState.theme,\n        isModified: editdorState.isModified,\n        name: editdorState.name,\n        fileHandle: editdorState.fileHandle,\n        updateOfflineTD,\n        updateIsModified,\n        setFileHandle,\n        removeForm,\n        addForm,\n        addActionForm,\n        addEventForm,\n        removeOneOfAKindReducer\n      }}\n    >\n      {props.children}\n    </EdiTDorContext.Provider>\n  );\n};\n\nexport default GlobalState;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport TDViewer from '../TDViewer/TDViewer'\nimport JSONEditorComponent from \"../Editor/Editor\";\nimport AppHeader from './AppHeader/AppHeader';\nimport GlobalState from '../../context/GlobalState';\n\nimport '../../assets/main.css'\n\nconst App = (props) => {\n    useEffect(() => { dragElement(document.getElementById(\"separator\"), \"H\"); }, [props])\n    return (\n        <GlobalState>\n            <main className=\"h-screen w-full\">\n                <AppHeader></AppHeader>\n                <div className=\"splitter\">\n                    <div className=\"w-5/12\" id=\"first\"><JSONEditorComponent /></div>\n                    <div id=\"separator\"></div>\n                    <div className=\"w-7/12\" id=\"second\"><TDViewer /></div>\n                </div>\n            </main>\n        </GlobalState>\n    );\n}\n\n/**\n * \n * @param {*} element \n * @param {*} direction \n * \n * Adjust size of the two Panels \"first\" and \"second\"\n */\nconst dragElement = (element, direction) => {\n    let md;\n    const first = document.getElementById(\"first\");\n    const second = document.getElementById(\"second\");\n\n    const onMouseMove = (e) => {\n        var delta = {\n            x: e.clientX - md.e.clientX,\n            y: e.clientY - md.e.clientY\n        };\n\n        if (direction === \"H\") {\n            delta.x = Math.min(Math.max(delta.x, -md.firstWidth),\n                md.secondWidth);\n\n            element.style.left = md.offsetLeft + delta.x + \"px\";\n            first.style.width = (md.firstWidth + delta.x) + \"px\";\n            second.style.width = (md.secondWidth - delta.x) + \"px\";\n        }\n    }\n\n    const onMouseDown = (e) => {\n        md = {\n            e,\n            offsetLeft: element.offsetLeft,\n            offsetTop: element.offsetTop,\n            firstWidth: first.offsetWidth,\n            secondWidth: second.offsetWidth\n        };\n        document.onmousemove = onMouseMove;\n        document.onmouseup = () => {\n            document.onmousemove = document.onmouseup = null;\n        }\n    }\n\n    element.onmousedown = onMouseDown;\n}\n\nexport default App;","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/********************************************************************************\n * Copyright (c) 2018 - 2020 Contributors to the Eclipse Foundation\n * \n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n * \n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * \n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\nimport React from 'react';\nimport ReactDOM from 'react-dom'; \nimport './assets/main.css'\nimport './index.css'\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// No PWA at the moment.\nserviceWorker.register();\n"],"sourceRoot":""}